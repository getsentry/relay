// country_subregion.rs
use std::collections::HashMap;
use std::fmt;

/// Subregions regions as defined by UN M49 standards, the enum value corresponds to the region code.
pub enum Subregion {
    NorthernAmerica = 021,
    CentralAmerica = 013,
    Caribbean = 029,
    SouthAmerica = 005,
    NorthernEurope = 154,
    WesternEurope = 155,
    SouthernEurope = 039,
    EasternEurope = 151,
    EasternAsia = 030,
    SouthernAsia = 034,
    SouthEasternAsia = 035,
    WesternAsia = 145,
    CentralAsia = 143,
    NorthernAfrica = 7,
    WesternAfrica = 011,
    MiddleAfrica = 017,
    EasternAfrica = 014,
    SouthernAfrica = 018,
    Melanesia = 054,
    Micronesia = 057,
    Polynesia = 061,
    AustraliaAndNewZealand = 053,
}

/**
 * Maps ISO 2 letter country codes to geoscheme regions based on the UN M.49 standard.
 */
impl Subregion {
    pub fn from_iso2(iso2_letter: &str) -> Option<Self> {
        match iso2_letter {
            "AF" => Some(Subregion::SouthernAsia),
            "AL" => Some(Subregion::SouthernEurope),
            "DZ" => Some(Subregion::NorthernAfrica),
            "AS" => Some(Subregion::Polynesia),
            "AD" => Some(Subregion::SouthernEurope),
            "AO" => Some(Subregion::MiddleAfrica),
            "AI" => Some(Subregion::Caribbean),
            // "AQ" => Some(Subregion::Antarctica),
            "AG" => Some(Subregion::Caribbean),
            "AR" => Some(Subregion::SouthAmerica),
            "AM" => Some(Subregion::WesternAsia),
            "AW" => Some(Subregion::Caribbean),
            "AU" => Some(Subregion::AustraliaAndNewZealand),
            "AT" => Some(Subregion::WesternEurope),
            "AZ" => Some(Subregion::WesternAsia),
            "BS" => Some(Subregion::Caribbean),
            "BH" => Some(Subregion::WesternAsia),
            "BD" => Some(Subregion::SouthernAsia),
            "BB" => Some(Subregion::Caribbean),
            "BY" => Some(Subregion::EasternEurope),
            "BE" => Some(Subregion::WesternEurope),
            "BZ" => Some(Subregion::CentralAmerica),
            "BJ" => Some(Subregion::WesternAfrica),
            "BM" => Some(Subregion::NorthernAmerica),
            "BT" => Some(Subregion::SouthernAsia),
            "BO" => Some(Subregion::SouthAmerica),
            "BA" => Some(Subregion::SouthernEurope),
            "BW" => Some(Subregion::SouthernAfrica),
            "BV" => Some(Subregion::Antarctica),
            "BR" => Some(Subregion::SouthAmerica),
            "IO" => Some(Subregion::EasternAfrica),
            "BN" => Some(Subregion::SouthEasternAsia),
            "BG" => Some(Subregion::EasternEurope),
            "BF" => Some(Subregion::WesternAfrica),
            "BI" => Some(Subregion::EasternAfrica),
            "CV" => Some(Subregion::WesternAfrica),
            "KH" => Some(Subregion::SouthEasternAsia),
            "CM" => Some(Subregion::MiddleAfrica),
            "CA" => Some(Subregion::NorthernAmerica),
            "KY" => Some(Subregion::Caribbean),
            "CF" => Some(Subregion::MiddleAfrica),
            "TD" => Some(Subregion::MiddleAfrica),
            "CL" => Some(Subregion::SouthAmerica),
            "CN" => Some(Subregion::EasternAsia),
            "CX" => Some(Subregion::AustraliaAndNewZealand),
            "CC" => Some(Subregion::AustraliaAndNewZealand),
            "CO" => Some(Subregion::SouthAmerica),
            "KM" => Some(Subregion::EasternAfrica),
            "CG" => Some(Subregion::MiddleAfrica),
            "CD" => Some(Subregion::MiddleAfrica),
            "CK" => Some(Subregion::Polynesia),
            "CR" => Some(Subregion::CentralAmerica),
            "CI" => Some(Subregion::WesternAfrica),
            "HR" => Some(Subregion::SouthernEurope),
            "CU" => Some(Subregion::Caribbean),
            "CY" => Some(Subregion::WesternAsia),
            "CZ" => Some(Subregion::EasternEurope),
            "DK" => Some(Subregion::NorthernEurope),
            "DJ" => Some(Subregion::EasternAfrica),
            "DM" => Some(Subregion::Caribbean),
            "DO" => Some(Subregion::Caribbean),
            "EC" => Some(Subregion::SouthAmerica),
            "EG" => Some(Subregion::NorthernAfrica),
            "SV" => Some(Subregion::CentralAmerica),
            "GQ" => Some(Subregion::MiddleAfrica),
            "ER" => Some(Subregion::EasternAfrica),
            "EE" => Some(Subregion::NorthernEurope),
            "SZ" => Some(Subregion::SouthernAfrica),
            "ET" => Some(Subregion::EasternAfrica),
            "FK" => Some(Subregion::SouthAmerica),
            "FO" => Some(Subregion::NorthernEurope),
            "FJ" => Some(Subregion::Melanesia),
            "FI" => Some(Subregion::NorthernEurope),
            "FR" => Some(Subregion::WesternEurope),
            "GF" => Some(Subregion::SouthAmerica),
            "PF" => Some(Subregion::Polynesia),
            "TF" => Some(Subregion::Antarctica),
            "GA" => Some(Subregion::MiddleAfrica),
            "GM" => Some(Subregion::WesternAfrica),
            "GE" => Some(Subregion::WesternAsia),
            "DE" => Some(Subregion::WesternEurope),
            "GH" => Some(Subregion::WesternAfrica),
            "GI" => Some(Subregion::SouthernEurope),
            "GR" => Some(Subregion::SouthernEurope),
            "GL" => Some(Subregion::NorthernAmerica),
            "GD" => Some(Subregion::Caribbean),
            "GP" => Some(Subregion::Caribbean),
            "GU" => Some(Subregion::Micronesia),
            "GT" => Some(Subregion::CentralAmerica),
            "GG" => Some(Subregion::NorthernEurope),
            "GN" => Some(Subregion::WesternAfrica),
            "GW" => Some(Subregion::WesternAfrica),
            "GY" => Some(Subregion::SouthAmerica),
            "HT" => Some(Subregion::Caribbean),
            // "HM" => Some(Subregion::Antarctica),
            "VA" => Some(Subregion::SouthernEurope),
            "HN" => Some(Subregion::CentralAmerica),
            "HK" => Some(Subregion::EasternAsia),
            "HU" => Some(Subregion::EasternEurope),
            "IS" => Some(Subregion::NorthernEurope),
            "IN" => Some(Subregion::SouthernAsia),
            "ID" => Some(Subregion::SouthEasternAsia),
            "IR" => Some(Subregion::SouthernAsia),
            "IQ" => Some(Subregion::WesternAsia),
            "IE" => Some(Subregion::NorthernEurope),
            "IM" => Some(Subregion::NorthernEurope),
            "IL" => Some(Subregion::WesternAsia),
            "IT" => Some(Subregion::SouthernEurope),
            "JM" => Some(Subregion::Caribbean),
            "JP" => Some(Subregion::EasternAsia),
            "JE" => Some(Subregion::NorthernEurope),
            "JO" => Some(Subregion::WesternAsia),
            "KZ" => Some(Subregion::CentralAsia),
            "KE" => Some(Subregion::EasternAfrica),
            "KI" => Some(Subregion::Micronesia),
            "KP" => Some(Subregion::EasternAsia),
            "KR" => Some(Subregion::EasternAsia),
            "KW" => Some(Subregion::WesternAsia),
            "KG" => Some(Subregion::CentralAsia),
            "LA" => Some(Subregion::SouthEasternAsia),
            "LV" => Some(Subregion::NorthernEurope),
            "LB" => Some(Subregion::WesternAsia),
            "LS" => Some(Subregion::SouthernAfrica),
            "LR" => Some(Subregion::WesternAfrica),
            "LY" => Some(Subregion::NorthernAfrica),
            "LI" => Some(Subregion::WesternEurope),
            "LT" => Some(Subregion::NorthernEurope),
            "LU" => Some(Subregion::WesternEurope),
            "MO" => Some(Subregion::EasternAsia),
            "MG" => Some(Subregion::EasternAfrica),
            "MW" => Some(Subregion::EasternAfrica),
            "MY" => Some(Subregion::SouthEasternAsia),
            "MV" => Some(Subregion::SouthernAsia),
            "ML" => Some(Subregion::WesternAfrica),
            "MT" => Some(Subregion::SouthernEurope),
            "MH" => Some(Subregion::Micronesia),
            "MQ" => Some(Subregion::Caribbean),
            "MR" => Some(Subregion::WesternAfrica),
            "MU" => Some(Subregion::EasternAfrica),
            "YT" => Some(Subregion::EasternAfrica),
            "MX" => Some(Subregion::CentralAmerica),
            "FM" => Some(Subregion::Micronesia),
            "MD" => Some(Subregion::EasternEurope),
            "MC" => Some(Subregion::WesternEurope),
            "MN" => Some(Subregion::EasternAsia),
            "ME" => Some(Subregion::SouthernEurope),
            "MS" => Some(Subregion::Caribbean),
            "MA" => Some(Subregion::NorthernAfrica),
            "MZ" => Some(Subregion::EasternAfrica),
            "MM" => Some(Subregion::SouthEasternAsia),
            "NA" => Some(Subregion::SouthernAfrica),
            "NR" => Some(Subregion::Micronesia),
            "NP" => Some(Subregion::SouthernAsia),
            "NL" => Some(Subregion::WesternEurope),
            "NC" => Some(Subregion::Melanesia),
            "NZ" => Some(Subregion::AustraliaAndNewZealand),
            "NI" => Some(Subregion::CentralAmerica),
            "NE" => Some(Subregion::WesternAfrica),
            "NG" => Some(Subregion::WesternAfrica),
            "NU" => Some(Subregion::Polynesia),
            "NF" => Some(Subregion::AustraliaAndNewZealand),
            "MK" => Some(Subregion::SouthernEurope),
            "MP" => Some(Subregion::Micronesia),
            "NO" => Some(Subregion::NorthernEurope),
            "OM" => Some(Subregion::WesternAsia),
            "PK" => Some(Subregion::SouthernAsia),
            "PW" => Some(Subregion::Micronesia),
            "PS" => Some(Subregion::WesternAsia),
            "PA" => Some(Subregion::CentralAmerica),
            "PG" => Some(Subregion::Melanesia),
            "PY" => Some(Subregion::SouthAmerica),
            "PE" => Some(Subregion::SouthAmerica),
            "PH" => Some(Subregion::SouthEasternAsia),
            "PN" => Some(Subregion::Polynesia),
            "PL" => Some(Subregion::EasternEurope),
            "PT" => Some(Subregion::SouthernEurope),
            "PR" => Some(Subregion::Caribbean),
            "QA" => Some(Subregion::WesternAsia),
            "RE" => Some(Subregion::EasternAfrica),
            "RO" => Some(Subregion::EasternEurope),
            "RU" => Some(Subregion::EasternEurope),
            "RW" => Some(Subregion::EasternAfrica),
            "BL" => Some(Subregion::Caribbean),
            "SH" => Some(Subregion::WesternAfrica),
            "KN" => Some(Subregion::Caribbean),
            "LC" => Some(Subregion::Caribbean),
            "MF" => Some(Subregion::Caribbean),
            "PM" => Some(Subregion::NorthernAmerica),
            "VC" => Some(Subregion::Caribbean),
            "WS" => Some(Subregion::Polynesia),
            "SM" => Some(Subregion::SouthernEurope),
            "ST" => Some(Subregion::MiddleAfrica),
            "SA" => Some(Subregion::WesternAsia),
            "SN" => Some(Subregion::WesternAfrica),
            "RS" => Some(Subregion::SouthernEurope),
            "SC" => Some(Subregion::EasternAfrica),
            "SL" => Some(Subregion::WesternAfrica),
            "SG" => Some(Subregion::SouthEasternAsia),
            "SX" => Some(Subregion::Caribbean),
            "SK" => Some(Subregion::EasternEurope),
            "SI" => Some(Subregion::SouthernEurope),
            "SB" => Some(Subregion::Melanesia),
            "SO" => Some(Subregion::EasternAfrica),
            "ZA" => Some(Subregion::SouthernAfrica),
            "SS" => Some(Subregion::EasternAfrica),
            "ES" => Some(Subregion::SouthernEurope),
            "LK" => Some(Subregion::SouthernAsia),
            "SD" => Some(Subregion::NorthernAfrica),
            "SR" => Some(Subregion::SouthAmerica),
            "SJ" => Some(Subregion::NorthernEurope),
            "SE" => Some(Subregion::NorthernEurope),
            "CH" => Some(Subregion::WesternEurope),
            "SY" => Some(Subregion::WesternAsia),
            "TW" => Some(Subregion::EasternAsia),
            "TJ" => Some(Subregion::CentralAsia),
            "TZ" => Some(Subregion::EasternAfrica),
            "TH" => Some(Subregion::SouthEasternAsia),
            "TL" => Some(Subregion::SouthEasternAsia),
            "TG" => Some(Subregion::WesternAfrica),
            "TK" => Some(Subregion::Polynesia),
            "TO" => Some(Subregion::Polynesia),
            "TT" => Some(Subregion::Caribbean),
            "TN" => Some(Subregion::NorthernAfrica),
            "TR" => Some(Subregion::WesternAsia),
            "TM" => Some(Subregion::CentralAsia),
            "TC" => Some(Subregion::Caribbean),
            "TV" => Some(Subregion::Polynesia),
            "UG" => Some(Subregion::EasternAfrica),
            "UA" => Some(Subregion::EasternEurope),
            "AE" => Some(Subregion::WesternAsia),
            "GB" => Some(Subregion::NorthernEurope),
            "US" => Some(Subregion::NorthernAmerica),
            "UY" => Some(Subregion::SouthAmerica),
            "UZ" => Some(Subregion::CentralAsia),
            "VU" => Some(Subregion::Melanesia),
            "VE" => Some(Subregion::SouthAmerica),
            "VN" => Some(Subregion::SouthEasternAsia),
            "VG" => Some(Subregion::Caribbean),
            "VI" => Some(Subregion::Caribbean),
            "WF" => Some(Subregion::Polynesia),
            "EH" => Some(Subregion::NorthernAfrica),
            "YE" => Some(Subregion::WesternAsia),
            "ZM" => Some(Subregion::EasternAfrica),
            "ZW" => Some(Subregion::EasternAfrica),
            // Additional ISO codes for territories
            "AX" => Some(Subregion::NorthernEurope),
            "BQ" => Some(Subregion::Caribbean),
            "CW" => Some(Subregion::Caribbean),
            // "TF" => Some(Subregion::Antarctica),
            "GI" => Some(Subregion::SouthernEurope),
            "GP" => Some(Subregion::Caribbean),
            "GG" => Some(Subregion::NorthernEurope),
            "IM" => Some(Subregion::NorthernEurope),
            "JE" => Some(Subregion::NorthernEurope),
            "ME" => Some(Subregion::SouthernEurope),
            "BL" => Some(Subregion::Caribbean),
            "MF" => Some(Subregion::Caribbean),
            "SX" => Some(Subregion::Caribbean),
            "PS" => Some(Subregion::WesternAsia),
            "SH" => Some(Subregion::WesternAfrica),
            "SJ" => Some(Subregion::NorthernEurope),
            "PM" => Some(Subregion::NorthernAmerica),
            "VA" => Some(Subregion::SouthernEurope),
            _ => None,
        }
    }
}
