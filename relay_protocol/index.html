<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Types and traits for building JSON-based protocols and schemas"><title>relay_protocol - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-b0742ba02757f159.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="relay_protocol" data-themes="" data-resource-suffix="" data-rustdoc-version="1.83.0 (90b35a623 2024-11-26)" data-channel="1.83.0" data-search-js="search-f0d225181b97f9a4.js" data-settings-js="settings-805db61a62df4bd2.js" ><script src="../static.files/storage-1d39b6787ed640ff.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-f070b9041d14864c.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-0111fcff984fae8f.css"></noscript><link rel="icon" href="https://raw.githubusercontent.com/getsentry/relay/master/artwork/relay-icon.png"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../relay_protocol/index.html"><img src="https://raw.githubusercontent.com/getsentry/relay/master/artwork/relay-icon.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../relay_protocol/index.html"><img src="https://raw.githubusercontent.com/getsentry/relay/master/artwork/relay-icon.png" alt="logo"></a><h2><a href="../relay_protocol/index.html">relay_<wbr>protocol</a><span class="version">24.12.1</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#test-utilities" title="Test Utilities">Test Utilities</a></li></ul><h3><a href="#reexports">Crate Items</a></h3><ul class="block"><li><a href="#reexports" title="Re-exports">Re-exports</a></li><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#macros" title="Macros">Macros</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#traits" title="Traits">Traits</a></li><li><a href="#functions" title="Functions">Functions</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li><li><a href="#derives" title="Derive Macros">Derive Macros</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>relay_protocol</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/relay_protocol/lib.rs.html#1-38">source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Types and traits for building JSON-based protocols and schemas</p>
<p>This crate provides the types and aliases that are used for the meta part of the protocol. This
is the core annotation system as well as the dynamic value parts and the metadata that goes with
it.</p>
<h2 id="test-utilities"><a class="doc-anchor" href="#test-utilities">§</a>Test Utilities</h2>
<p>When the <code>test</code> feature is enabled, this crate exposes the additional
<code>assert_annotated_snapshot</code> macro. This can be used with <code>insta</code> to render and compare snapshots
of annotated data with meta data.</p>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.RuleCondition"><code>pub use self::condition::<a class="enum" href="condition/enum.RuleCondition.html" title="enum relay_protocol::condition::RuleCondition">RuleCondition</a>;</code></div></li></ul><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="condition/index.html" title="mod relay_protocol::condition">condition</a></div><div class="desc docblock-short">Types to specify conditions on data.</div></li></ul><h2 id="macros" class="section-header">Macros<a href="#macros" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="macro" href="macro.assert_annotated_snapshot.html" title="macro relay_protocol::assert_annotated_snapshot">assert_<wbr>annotated_<wbr>snapshot</a></div><div class="desc docblock-short">Asserts the snapshot of an annotated structure using <code>insta</code>.</div></li><li><div class="item-name"><a class="macro" href="macro.derive_string_meta_structure.html" title="macro relay_protocol::derive_string_meta_structure">derive_<wbr>string_<wbr>meta_<wbr>structure</a></div><div class="desc docblock-short">Derives the <a href="trait.FromValue.html" title="trait relay_protocol::FromValue"><code>FromValue</code></a>, <a href="trait.IntoValue.html" title="trait relay_protocol::IntoValue"><code>IntoValue</code></a>, and <a href="trait.Empty.html" title="trait relay_protocol::Empty"><code>Empty</code></a> traits using the string representation.</div></li><li><div class="item-name"><a class="macro" href="macro.get_path.html" title="macro relay_protocol::get_path">get_<wbr>path</a></div><div class="desc docblock-short">Returns a reference to the typed <a href="struct.Annotated.html" title="struct relay_protocol::Annotated"><code>Annotated</code></a> value at a given path.</div></li><li><div class="item-name"><a class="macro" href="macro.get_value.html" title="macro relay_protocol::get_value">get_<wbr>value</a></div><div class="desc docblock-short">Returns a reference to the typed value at a given path in an <a href="struct.Annotated.html" title="struct relay_protocol::Annotated"><code>Annotated</code></a>.</div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Annotated.html" title="struct relay_protocol::Annotated">Annotated</a></div><div class="desc docblock-short">Wrapper for data fields with optional meta data.</div></li><li><div class="item-name"><a class="struct" href="struct.Arr.html" title="struct relay_protocol::Arr">Arr</a></div><div class="desc docblock-short">Borrowed version of <a href="type.Array.html" title="type relay_protocol::Array"><code>Array</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.Error.html" title="struct relay_protocol::Error">Error</a></div><div class="desc docblock-short">An error with an enumerable kind and optional data.</div></li><li><div class="item-name"><a class="struct" href="struct.GetterIter.html" title="struct relay_protocol::GetterIter">Getter<wbr>Iter</a></div><div class="desc docblock-short">A type-erased iterator over a collection of <a href="trait.Getter.html" title="trait relay_protocol::Getter"><code>Getter</code></a>s.</div></li><li><div class="item-name"><a class="struct" href="struct.Meta.html" title="struct relay_protocol::Meta">Meta</a></div><div class="desc docblock-short">Meta information for a data field in the event payload.</div></li><li><div class="item-name"><a class="struct" href="struct.MetaTree.html" title="struct relay_protocol::MetaTree">Meta<wbr>Tree</a></div><div class="desc docblock-short">Represents a tree of meta objects.</div></li><li><div class="item-name"><a class="struct" href="struct.Obj.html" title="struct relay_protocol::Obj">Obj</a></div><div class="desc docblock-short">Borrowed version of <a href="type.Object.html" title="type relay_protocol::Object"><code>Object</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.Remark.html" title="struct relay_protocol::Remark">Remark</a></div><div class="desc docblock-short">Information on a modified section in a string.</div></li><li><div class="item-name"><a class="struct" href="struct.SerializableAnnotated.html" title="struct relay_protocol::SerializableAnnotated">Serializable<wbr>Annotated</a></div><div class="desc docblock-short">An utility to serialize annotated objects with payload.</div></li><li><div class="item-name"><a class="struct" href="struct.ValueDescription.html" title="struct relay_protocol::ValueDescription">Value<wbr>Description</a></div><div class="desc docblock-short">Helper type that renders out a description of the value.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.ErrorKind.html" title="enum relay_protocol::ErrorKind">Error<wbr>Kind</a></div><div class="desc docblock-short">The kind of an <code>Error</code>.</div></li><li><div class="item-name"><a class="enum" href="enum.RemarkType.html" title="enum relay_protocol::RemarkType">Remark<wbr>Type</a></div><div class="desc docblock-short">Gives an indication about the type of remark.</div></li><li><div class="item-name"><a class="enum" href="enum.SkipSerialization.html" title="enum relay_protocol::SkipSerialization">Skip<wbr>Serialization</a></div><div class="desc docblock-short">Defines behavior for skipping the serialization of fields.</div></li><li><div class="item-name"><a class="enum" href="enum.Val.html" title="enum relay_protocol::Val">Val</a></div><div class="desc docblock-short">Borrowed version of <a href="enum.Value.html" title="enum relay_protocol::Value"><code>Value</code></a>.</div></li><li><div class="item-name"><a class="enum" href="enum.Value.html" title="enum relay_protocol::Value">Value</a></div><div class="desc docblock-short">Represents a boxed value.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.Empty.html" title="trait relay_protocol::Empty">Empty</a></div><div class="desc docblock-short">A value that can be empty.</div></li><li><div class="item-name"><a class="trait" href="trait.FromValue.html" title="trait relay_protocol::FromValue">From<wbr>Value</a></div><div class="desc docblock-short">Implemented for all meta structures.</div></li><li><div class="item-name"><a class="trait" href="trait.Getter.html" title="trait relay_protocol::Getter">Getter</a></div><div class="desc docblock-short">A type that supports field access by paths.</div></li><li><div class="item-name"><a class="trait" href="trait.IntoValue.html" title="trait relay_protocol::IntoValue">Into<wbr>Value</a></div><div class="desc docblock-short">Implemented for all meta structures.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.estimate_size.html" title="fn relay_protocol::estimate_size">estimate_<wbr>size</a></div><div class="desc docblock-short">Estimates the size in bytes this would be in JSON.</div></li><li><div class="item-name"><a class="fn" href="fn.estimate_size_flat.html" title="fn relay_protocol::estimate_size_flat">estimate_<wbr>size_<wbr>flat</a></div><div class="desc docblock-short">Estimates the size in bytes this would be in JSON, but does not recurse into objects or arrays.</div></li><li><div class="item-name"><a class="fn" href="fn.to_value.html" title="fn relay_protocol::to_value">to_<wbr>value</a></div><div class="desc docblock-short">Convert <code>T</code> into a <code>Value</code>.</div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.Array.html" title="type relay_protocol::Array">Array</a></div><div class="desc docblock-short">Alias for typed arrays.</div></li><li><div class="item-name"><a class="type" href="type.Map.html" title="type relay_protocol::Map">Map</a></div><div class="desc docblock-short">Alias for maps.</div></li><li><div class="item-name"><a class="type" href="type.MetaMap.html" title="type relay_protocol::MetaMap">MetaMap</a></div><div class="desc docblock-short">Meta for children.</div></li><li><div class="item-name"><a class="type" href="type.Object.html" title="type relay_protocol::Object">Object</a></div><div class="desc docblock-short">Alias for typed objects.</div></li><li><div class="item-name"><a class="type" href="type.Range.html" title="type relay_protocol::Range">Range</a></div><div class="desc docblock-short">The start (inclusive) and end (exclusive) indices of a <code>Remark</code>.</div></li></ul><h2 id="derives" class="section-header">Derive Macros<a href="#derives" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="derive" href="derive.Empty.html" title="derive relay_protocol::Empty">Empty</a></div></li><li><div class="item-name"><a class="derive" href="derive.FromValue.html" title="derive relay_protocol::FromValue">From<wbr>Value</a></div></li><li><div class="item-name"><a class="derive" href="derive.IntoValue.html" title="derive relay_protocol::IntoValue">Into<wbr>Value</a></div></li></ul></section></div></main></body></html>