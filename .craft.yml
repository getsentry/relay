---
minVersion: "0.8.4"
github:
  owner: getsentry
  repo: semaphore
changelogPolicy: simple
targets:
  - name: pypi
  - name: github
  - name: gh-pages
  - name: registry
    type: app
    urlTemplate: "https://downloads.sentry-cdn.com/semaphore/{{version}}/{{file}}"
    includeNames: /^semaphore-(Darwin|Linux|Windows).*$/i
    config:
      canonical: "app:semaphore"
  - name: gcs
    bucket: sentry-sdk-assets
    includeNames: /^semaphore-(Darwin|Windows|Linux).*$/
    paths:
      - path: /semaphore/{{version}}/
        metadata:
          cacheControl: "public, max-age=2592000"
      - path: /semaphore/latest/
        metadata:
          cacheControl: "public, max-age=600"

requireNames:
  - /^gh-pages.zip$/
  - /^semaphore-.*-py2.py3-none-macosx_10_11_x86_64.whl$/
  - /^semaphore-.*-py2.py3-none-manylinux1_i686.whl$/
  - /^semaphore-.*-py2.py3-none-manylinux1_x86_64.whl$/
  - /^semaphore-.*.zip$/
  - /^semaphore-Darwin-x86_64$/
  - /^semaphore-Darwin-x86_64-dsym.zip$/
  - /^semaphore-Linux-x86_64$/
  - /^semaphore-Linux-x86_64-debug.zip$/
  - /^semaphore-Windows-x86_64-pdb.zip$/
  - /^semaphore-Windows-x86_64\.exe$/
