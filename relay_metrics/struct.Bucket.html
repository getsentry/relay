<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="An aggregation of metric values."><title>Bucket in relay_metrics - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-42caa33d.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="relay_metrics" data-themes="" data-resource-suffix="" data-rustdoc-version="1.84.0 (9fc6b4312 2025-01-07)" data-channel="1.84.0" data-search-js="search-92e6798f.js" data-settings-js="settings-0f613d39.js" ><script src="../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="icon" href="https://raw.githubusercontent.com/getsentry/relay/master/artwork/relay-icon.png"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../relay_metrics/index.html"><img src="https://raw.githubusercontent.com/getsentry/relay/master/artwork/relay-icon.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../relay_metrics/index.html"><img src="https://raw.githubusercontent.com/getsentry/relay/master/artwork/relay-icon.png" alt="logo"></a><h2><a href="../relay_metrics/index.html">relay_<wbr>metrics</a><span class="version">24.12.2</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Bucket</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#values" title="Values">Values</a></li><li><a href="#submission-protocol" title="Submission Protocol">Submission Protocol</a></li><li><a href="#json-representation" title="JSON Representation">JSON Representation</a></li><li><a href="#hashing-of-sets" title="Hashing of Sets">Hashing of Sets</a></li></ul><h3><a href="#fields">Fields</a></h3><ul class="block structfield"><li><a href="#structfield.metadata" title="metadata">metadata</a></li><li><a href="#structfield.name" title="name">name</a></li><li><a href="#structfield.tags" title="tags">tags</a></li><li><a href="#structfield.timestamp" title="timestamp">timestamp</a></li><li><a href="#structfield.value" title="value">value</a></li><li><a href="#structfield.width" title="width">width</a></li></ul><h3><a href="#implementations">Methods</a></h3><ul class="block method"><li><a href="#method.parse" title="parse">parse</a></li><li><a href="#method.parse_all" title="parse_all">parse_all</a></li><li><a href="#method.remove_tag" title="remove_tag">remove_tag</a></li><li><a href="#method.tag" title="tag">tag</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block trait-implementation"><li><a href="#impl-CardinalityItem-for-Bucket" title="CardinalityItem">CardinalityItem</a></li><li><a href="#impl-Clone-for-Bucket" title="Clone">Clone</a></li><li><a href="#impl-Debug-for-Bucket" title="Debug">Debug</a></li><li><a href="#impl-Deserialize%3C'de%3E-for-Bucket" title="Deserialize&#60;&#39;de&#62;">Deserialize&#60;&#39;de&#62;</a></li><li><a href="#impl-From%3C%26Bucket%3E-for-BucketView%3C'a%3E" title="From&#60;&#38;&#39;a Bucket&#62;">From&#60;&#38;&#39;a Bucket&#62;</a></li><li><a href="#impl-PartialEq-for-Bucket" title="PartialEq">PartialEq</a></li><li><a href="#impl-Serialize-for-Bucket" title="Serialize">Serialize</a></li><li><a href="#impl-StructuralPartialEq-for-Bucket" title="StructuralPartialEq">StructuralPartialEq</a></li></ul><h3><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul class="block synthetic-implementation"><li><a href="#impl-Freeze-for-Bucket" title="Freeze">Freeze</a></li><li><a href="#impl-RefUnwindSafe-for-Bucket" title="RefUnwindSafe">RefUnwindSafe</a></li><li><a href="#impl-Send-for-Bucket" title="Send">Send</a></li><li><a href="#impl-Sync-for-Bucket" title="Sync">Sync</a></li><li><a href="#impl-Unpin-for-Bucket" title="Unpin">Unpin</a></li><li><a href="#impl-UnwindSafe-for-Bucket" title="UnwindSafe">UnwindSafe</a></li></ul><h3><a href="#blanket-implementations">Blanket Implementations</a></h3><ul class="block blanket-implementation"><li><a href="#impl-Any-for-T" title="Any">Any</a></li><li><a href="#impl-Borrow%3CT%3E-for-T" title="Borrow&#60;T&#62;">Borrow&#60;T&#62;</a></li><li><a href="#impl-BorrowMut%3CT%3E-for-T" title="BorrowMut&#60;T&#62;">BorrowMut&#60;T&#62;</a></li><li><a href="#impl-CloneToUninit-for-T" title="CloneToUninit">CloneToUninit</a></li><li><a href="#impl-DeserializeOwned-for-T" title="DeserializeOwned">DeserializeOwned</a></li><li><a href="#impl-ErasedDestructor-for-T" title="ErasedDestructor">ErasedDestructor</a></li><li><a href="#impl-From%3CT%3E-for-T" title="From&#60;T&#62;">From&#60;T&#62;</a></li><li><a href="#impl-Instrument-for-T" title="Instrument">Instrument</a></li><li><a href="#impl-Into%3CU%3E-for-T" title="Into&#60;U&#62;">Into&#60;U&#62;</a></li><li><a href="#impl-IntoEither-for-T" title="IntoEither">IntoEither</a></li><li><a href="#impl-MaybeSendSync-for-T" title="MaybeSendSync">MaybeSendSync</a></li><li><a href="#impl-ToOwned-for-T" title="ToOwned">ToOwned</a></li><li><a href="#impl-TryFrom%3CU%3E-for-T" title="TryFrom&#60;U&#62;">TryFrom&#60;U&#62;</a></li><li><a href="#impl-TryInto%3CU%3E-for-T" title="TryInto&#60;U&#62;">TryInto&#60;U&#62;</a></li><li><a href="#impl-VZip%3CV%3E-for-T" title="VZip&#60;V&#62;">VZip&#60;V&#62;</a></li><li><a href="#impl-WithSubscriber-for-T" title="WithSubscriber">WithSubscriber</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="index.html">In crate relay_<wbr>metrics</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="index.html">relay_metrics</a></span><h1>Struct <span class="struct">Bucket</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/relay_metrics/bucket.rs.html#497-621">Source</a> </span></div><pre class="rust item-decl"><code>pub struct Bucket {
    pub timestamp: <a class="struct" href="struct.UnixTimestamp.html" title="struct relay_metrics::UnixTimestamp">UnixTimestamp</a>,
    pub width: <a class="primitive" href="https://doc.rust-lang.org/1.84.0/std/primitive.u64.html">u64</a>,
    pub name: <a class="struct" href="struct.MetricName.html" title="struct relay_metrics::MetricName">MetricName</a>,
    pub value: <a class="enum" href="enum.BucketValue.html" title="enum relay_metrics::BucketValue">BucketValue</a>,
    pub tags: <a class="type" href="type.MetricTags.html" title="type relay_metrics::MetricTags">MetricTags</a>,
    pub metadata: <a class="struct" href="struct.BucketMetadata.html" title="struct relay_metrics::BucketMetadata">BucketMetadata</a>,
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>An aggregation of metric values.</p>
<p>As opposed to single metric values, bucket aggregations can carry multiple values. See
<a href="enum.MetricType.html" title="enum relay_metrics::MetricType"><code>MetricType</code></a> for a description on how values are aggregated in buckets. Values are aggregated
by metric name, type, time window, and all tags. Particularly, this allows metrics to have the
same name even if their types differ.</p>
<p>See the <a href="index.html" title="mod relay_metrics">crate documentation</a> for general information on Metrics.</p>
<h2 id="values"><a class="doc-anchor" href="#values">ยง</a>Values</h2>
<p>The contents of a bucket, especially their representation and serialization, depend on the
metric type:</p>
<ul>
<li><a href="enum.BucketValue.html#variant.Counter" title="variant relay_metrics::BucketValue::Counter">Counters</a> store a single value, serialized as floating point.</li>
<li><a href="enum.MetricType.html#variant.Distribution" title="variant relay_metrics::MetricType::Distribution">Distributions</a> and <a href="enum.MetricType.html#variant.Set" title="variant relay_metrics::MetricType::Set">sets</a> store the full set of
reported values.</li>
<li><a href="enum.BucketValue.html#variant.Gauge" title="variant relay_metrics::BucketValue::Gauge">Gauges</a> store a snapshot of reported values, see <a href="struct.GaugeValue.html" title="struct relay_metrics::GaugeValue"><code>GaugeValue</code></a>.</li>
</ul>
<h2 id="submission-protocol"><a class="doc-anchor" href="#submission-protocol">ยง</a>Submission Protocol</h2><div class="example-wrap"><pre class="language-text"><code>&lt;name&gt;[@unit]:&lt;value&gt;[:&lt;value&gt;...]|&lt;type&gt;[|#&lt;tag_key&gt;:&lt;tag_value&gt;,&lt;tag&gt;][|T&lt;timestamp&gt;]</code></pre></div>
<p>See the <a href="struct.Bucket.html#fields" title="struct relay_metrics::Bucket">field documentation</a> for more information on the components. An example
submission looks like this:</p>
<div class="example-wrap"><pre class="language-text"><code>endpoint.response_time@millisecond:36:49:57:68|d|#route:user_index|T1615889440
endpoint.hits:4|c|#route:user_index|T1615889440
endpoint.parallel_requests:25:17:42:220:85|g|#route:user_index|T1615889440
endpoint.users:3182887624:4267882815|s|#route:user_index|T1615889440</code></pre></div>
<p>To parse a submission payload, use <a href="struct.Bucket.html#method.parse_all" title="associated function relay_metrics::Bucket::parse_all"><code>Bucket::parse_all</code></a>.</p>
<h2 id="json-representation"><a class="doc-anchor" href="#json-representation">ยง</a>JSON Representation</h2>
<p>Alternatively to the submission protocol, metrics can be represented as structured data in JSON.
The data type of the <code>value</code> field is determined by the metric type.</p>
<p>In addition to the submission protocol, buckets have a required <a href="struct.Bucket.html#structfield.width" title="field relay_metrics::Bucket::width"><code>width</code></a> field in
their JSON representation.</p>
<div class="example-wrap"><pre class="language-json"><code>[
  {
    &quot;timestamp&quot;: 1615889440,
    &quot;width&quot;: 0,
    &quot;name&quot;: &quot;d:custom/endpoint.response_time@millisecond&quot;,
    &quot;type&quot;: &quot;d&quot;,
    &quot;value&quot;: [
      36.0,
      49.0,
      57.0,
      68.0
    ],
    &quot;tags&quot;: {
      &quot;route&quot;: &quot;user_index&quot;
    }
  },
  {
    &quot;timestamp&quot;: 1615889440,
    &quot;width&quot;: 0,
    &quot;name&quot;: &quot;c:custom/endpoint.hits@none&quot;,
    &quot;type&quot;: &quot;c&quot;,
    &quot;value&quot;: 4.0,
    &quot;tags&quot;: {
      &quot;route&quot;: &quot;user_index&quot;
    }
  },
  {
    &quot;timestamp&quot;: 1615889440,
    &quot;width&quot;: 0,
    &quot;name&quot;: &quot;g:custom/endpoint.parallel_requests@none&quot;,
    &quot;type&quot;: &quot;g&quot;,
    &quot;value&quot;: {
      &quot;last&quot;: 25.0,
      &quot;min&quot;: 17.0,
      &quot;max&quot;: 42.0,
      &quot;sum&quot;: 220.0,
      &quot;count&quot;: 85
    },
    &quot;tags&quot;: {
      &quot;route&quot;: &quot;user_index&quot;
    }
  },
  {
    &quot;timestamp&quot;: 1615889440,
    &quot;width&quot;: 0,
    &quot;name&quot;: &quot;s:custom/endpoint.users@none&quot;,
    &quot;type&quot;: &quot;s&quot;,
    &quot;value&quot;: [
      3182887624,
      4267882815
    ],
    &quot;tags&quot;: {
      &quot;route&quot;: &quot;user_index&quot;
    }
  }
]</code></pre></div>
<p>To parse a JSON payload, use <a href="https://docs.rs/serde_json/1.0.133/serde_json/index.html" title="mod serde_json"><code>serde_json</code></a>.</p>
<h2 id="hashing-of-sets"><a class="doc-anchor" href="#hashing-of-sets">ยง</a>Hashing of Sets</h2>
<p>Set values can be specified as strings in the submission protocol. They are always hashed
into a 32-bit value and the original value is dropped. If the submission protocol contains a
32-bit integer, it will be used directly, instead.</p>
<p><strong>Example</strong>:</p>
<div class="example-wrap"><pre class="language-text"><code>endpoint.users:e2546e4c-ecd0-43ad-ae27-87960e57a658|s</code></pre></div>
<p>The above submission is represented as:</p>
<div class="example-wrap"><pre class="language-json"><code>{
  &quot;name&quot;: &quot;s:custom/endpoint.users@none&quot;,
  &quot;width&quot;: 0,
  &quot;timestamp&quot;: 1615889449,
  &quot;value&quot;: [4267882815],
  &quot;type&quot;: &quot;s&quot;
}</code></pre></div></div></details><h2 id="fields" class="fields section-header">Fields<a href="#fields" class="anchor">ยง</a></h2><span id="structfield.timestamp" class="structfield section-header"><a href="#structfield.timestamp" class="anchor field">ยง</a><code>timestamp: <a class="struct" href="struct.UnixTimestamp.html" title="struct relay_metrics::UnixTimestamp">UnixTimestamp</a></code></span><div class="docblock"><p>The start time of the bucketโs time window.</p>
<p>If a timestamp is not supplied as part of the submission payload, the default timestamp
supplied to <a href="struct.Bucket.html#method.parse" title="associated function relay_metrics::Bucket::parse"><code>Bucket::parse</code></a> or <a href="struct.Bucket.html#method.parse_all" title="associated function relay_metrics::Bucket::parse_all"><code>Bucket::parse_all</code></a> is associated with the metric. It is
then aligned with the aggregation window.</p>
<h3 id="statsd-format"><a class="doc-anchor" href="#statsd-format">ยง</a>Statsd Format</h3>
<p>In statsd, timestamps are part of the <code>|</code>-separated list following values. Timestamps start
with the literal character <code>'T'</code> followed by the UNIX timestamp.</p>
<p>The timestamp must be a positive integer in decimal notation representing the value of the
UNIX timestamp.</p>
<h3 id="example"><a class="doc-anchor" href="#example">ยง</a>Example</h3><div class="example-wrap"><pre class="language-text"><code>endpoint.hits:1|c|T1615889440</code></pre></div></div><span id="structfield.width" class="structfield section-header"><a href="#structfield.width" class="anchor field">ยง</a><code>width: <a class="primitive" href="https://doc.rust-lang.org/1.84.0/std/primitive.u64.html">u64</a></code></span><div class="docblock"><p>The length of the time window in seconds.</p>
<p>To initialize a new bucket, choose <code>0</code> as width. Once the bucket is tracked by Relayโs
aggregator, the width is aligned with configuration for the namespace and the  timestamp is
adjusted accordingly.</p>
<h3 id="statsd-format-1"><a class="doc-anchor" href="#statsd-format-1">ยง</a>Statsd Format</h3>
<p>Specifying the bucket width in statsd is not supported.</p>
</div><span id="structfield.name" class="structfield section-header"><a href="#structfield.name" class="anchor field">ยง</a><code>name: <a class="struct" href="struct.MetricName.html" title="struct relay_metrics::MetricName">MetricName</a></code></span><div class="docblock"><p>The name of the metric in MRI (metric resource identifier) format.</p>
<p>MRIs have the format <code>&lt;type&gt;:&lt;ns&gt;/&lt;name&gt;@&lt;unit&gt;</code>. See <a href="struct.MetricResourceIdentifier.html" title="struct relay_metrics::MetricResourceIdentifier"><code>MetricResourceIdentifier</code></a> for
information on fields and representations.</p>
<h3 id="statsd-format-2"><a class="doc-anchor" href="#statsd-format-2">ยง</a>Statsd Format</h3>
<p>MRIs are sent in a more relaxed format: <code>[&lt;namespace/]name[@unit]</code>. The value type is not
part of the metric name and namespaces are optional.</p>
<p>Namespaces and units must consist of ASCII characters and match the regular expression
<code>/\w+/</code>. The name component of MRIs consist of unicode characters and must match the
regular expression <code>/\w[\w\-.]*/</code>. Note that the name must begin with a letter.</p>
<p>Per convention, dots separate metric names into components, where the leading components are
considered namespaces and the final component is the name of the metric within its
namespace.</p>
<h3 id="examples"><a class="doc-anchor" href="#examples">ยง</a>Examples</h3><div class="example-wrap"><pre class="language-text"><code>endpoint.hits:1|c
custom/endpoint.hits:1|c
custom/endpoint.duration@millisecond:21.5|d</code></pre></div></div><span id="structfield.value" class="structfield section-header"><a href="#structfield.value" class="anchor field">ยง</a><code>value: <a class="enum" href="enum.BucketValue.html" title="enum relay_metrics::BucketValue">BucketValue</a></code></span><div class="docblock"><p>The type and aggregated values of this bucket.</p>
<p>Buckets support multiple values that are aggregated and can be accessed using a range of
aggregation functions depending on the value type. While always a variable number of values
can be sent in, some aggregations reduce the raw values to a fixed set of aggregates.</p>
<p>See <a href="enum.BucketValue.html" title="enum relay_metrics::BucketValue"><code>BucketValue</code></a> for more examples and semantics.</p>
<h3 id="statsd-payload"><a class="doc-anchor" href="#statsd-payload">ยง</a>Statsd Payload</h3>
<p>The bucket value and its type are specified in separate fields following the metric name in
the format: <code>&lt;name&gt;:&lt;value&gt;|&lt;type&gt;</code>. Values must be base-10 floating point numbers with
optional decimal places.</p>
<p>It is possible to pack multiple values into a single datagram, but note that the type and
the value representation must match for this. Refer to the <a href="enum.BucketValue.html" title="enum relay_metrics::BucketValue"><code>BucketValue</code></a> docs for more
examples.</p>
<h3 id="example-1"><a class="doc-anchor" href="#example-1">ยง</a>Example</h3><div class="example-wrap"><pre class="language-text"><code>endpoint.hits:21|c
endpoint.hits:4.5|c</code></pre></div></div><span id="structfield.tags" class="structfield section-header"><a href="#structfield.tags" class="anchor field">ยง</a><code>tags: <a class="type" href="type.MetricTags.html" title="type relay_metrics::MetricTags">MetricTags</a></code></span><div class="docblock"><p>A list of tags adding dimensions to the metric for filtering and aggregation.</p>
<p>Tags allow to compute separate aggregates to filter or group metric values by any number of
dimensions. Tags consist of a unique tag key and one associated value. For tags with missing
values, an empty <code>""</code> value is assumed at query time.</p>
<h3 id="statsd-format-3"><a class="doc-anchor" href="#statsd-format-3">ยง</a>Statsd Format</h3>
<p>Tags are preceded with a hash <code>#</code> and specified in a comma (<code>,</code>) separated list. Each tag
can either be a tag name, or a <code>name:value</code> combination. Tags are optional and can be
omitted.</p>
<p>Tag keys are restricted to ASCII characters and must match the regular expression
<code>/[\w\-.\/]+/</code>.</p>
<p>Tag values can contain unicode characters with the following escaping rules:</p>
<ul>
<li>Tab is escaped as <code>\t</code>.</li>
<li>Carriage return is escaped as <code>\r</code>.</li>
<li>Line feed is escaped as <code>\n</code>.</li>
<li>Backslash is escaped as <code>\\</code>.</li>
<li>Commas and pipes are given unicode escapes in the form <code>\u{2c}</code> and <code>\u{7c}</code>,
respectively.</li>
</ul>
<h3 id="example-2"><a class="doc-anchor" href="#example-2">ยง</a>Example</h3><div class="example-wrap"><pre class="language-text"><code>endpoint.hits:1|c|#route:user_index,environment:production,release:1.4.0</code></pre></div></div><span id="structfield.metadata" class="structfield section-header"><a href="#structfield.metadata" class="anchor field">ยง</a><code>metadata: <a class="struct" href="struct.BucketMetadata.html" title="struct relay_metrics::BucketMetadata">BucketMetadata</a></code></span><div class="docblock"><p>Relay internal metadata for a metric bucket.</p>
<p>The metadata contains meta information about the metric bucket itself,
for example how many this bucket has been aggregated in total.</p>
</div><h2 id="implementations" class="section-header">Implementations<a href="#implementations" class="anchor">ยง</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Bucket" class="impl"><a class="src rightside" href="../src/relay_metrics/bucket.rs.html#623-723">Source</a><a href="#impl-Bucket" class="anchor">ยง</a><h3 class="code-header">impl <a class="struct" href="struct.Bucket.html" title="struct relay_metrics::Bucket">Bucket</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.parse" class="method"><a class="src rightside" href="../src/relay_metrics/bucket.rs.html#679-682">Source</a><h4 class="code-header">pub fn <a href="#method.parse" class="fn">parse</a>(
    slice: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.84.0/std/primitive.u8.html">u8</a>],
    timestamp: <a class="struct" href="struct.UnixTimestamp.html" title="struct relay_metrics::UnixTimestamp">UnixTimestamp</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.84.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self, <a class="struct" href="struct.ParseMetricError.html" title="struct relay_metrics::ParseMetricError">ParseMetricError</a>&gt;</h4></section></summary><div class="docblock"><p>Parses a single metric aggregate from the raw protocol.</p>
<p>See the <a href="struct.Bucket.html" title="struct relay_metrics::Bucket"><code>Bucket</code></a> for more information on the protocol.</p>
<h5 id="example-3"><a class="doc-anchor" href="#example-3">ยง</a>Example</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>relay_metrics::{Bucket, UnixTimestamp};

<span class="kw">let </span>bucket = Bucket::parse(<span class="string">b"response_time@millisecond:57|d"</span>, UnixTimestamp::now())
    .expect(<span class="string">"metric should parse"</span>);</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.parse_all" class="method"><a class="src rightside" href="../src/relay_metrics/bucket.rs.html#708-710">Source</a><h4 class="code-header">pub fn <a href="#method.parse_all" class="fn">parse_all</a>(slice: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.84.0/std/primitive.u8.html">u8</a>], timestamp: <a class="struct" href="struct.UnixTimestamp.html" title="struct relay_metrics::UnixTimestamp">UnixTimestamp</a>) -&gt; <a class="struct" href="struct.ParseBuckets.html" title="struct relay_metrics::ParseBuckets">ParseBuckets</a>&lt;'_&gt; <a href="#" class="tooltip" data-notable-ty="ParseBuckets&lt;&#39;_&gt;">โ</a></h4></section></summary><div class="docblock"><p>Parses a set of metric aggregates from the raw protocol.</p>
<p>Returns a metric result for each line in <code>slice</code>, ignoring empty lines. Both UNIX newlines
(<code>\n</code>) and Windows newlines (<code>\r\n</code>) are supported.</p>
<p>It is possible to continue consuming the iterator after <code>Err</code> is yielded.</p>
<p>See <a href="struct.Bucket.html" title="struct relay_metrics::Bucket"><code>Bucket</code></a> for more information on the protocol.</p>
<h5 id="example-4"><a class="doc-anchor" href="#example-4">ยง</a>Example</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>relay_metrics::{Bucket, UnixTimestamp};

<span class="kw">let </span>data = <span class="string">br#"
endpoint.response_time@millisecond:57|d
endpoint.hits:1|c
"#</span>;

<span class="kw">for </span>metric_result <span class="kw">in </span>Bucket::parse_all(data, UnixTimestamp::now()) {
    <span class="kw">let </span>bucket = metric_result.expect(<span class="string">"metric should parse"</span>);
    <span class="macro">println!</span>(<span class="string">"Metric {}: {:?}"</span>, bucket.name, bucket.value);
}</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="method.tag" class="method"><a class="src rightside" href="../src/relay_metrics/bucket.rs.html#713-715">Source</a><h4 class="code-header">pub fn <a href="#method.tag" class="fn">tag</a>(&amp;self, name: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.84.0/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.84.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="primitive" href="https://doc.rust-lang.org/1.84.0/std/primitive.str.html">str</a>&gt;</h4></section></summary><div class="docblock"><p>Returns the value of the specified tag if it exists.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.remove_tag" class="method"><a class="src rightside" href="../src/relay_metrics/bucket.rs.html#720-722">Source</a><h4 class="code-header">pub fn <a href="#method.remove_tag" class="fn">remove_tag</a>(&amp;mut self, name: &amp;<a class="primitive" href="https://doc.rust-lang.org/1.84.0/std/primitive.str.html">str</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.84.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.84.0/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>&gt;</h4></section></summary><div class="docblock"><p>Removes the value of the specified tag.</p>
<p>If the tag exists, the removed value is returned.</p>
</div></details></div></details></div><h2 id="trait-implementations" class="section-header">Trait Implementations<a href="#trait-implementations" class="anchor">ยง</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-CardinalityItem-for-Bucket" class="impl"><a class="src rightside" href="../src/relay_metrics/bucket.rs.html#725-740">Source</a><a href="#impl-CardinalityItem-for-Bucket" class="anchor">ยง</a><h3 class="code-header">impl CardinalityItem for <a class="struct" href="struct.Bucket.html" title="struct relay_metrics::Bucket">Bucket</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.namespace" class="method trait-impl"><a class="src rightside" href="../src/relay_metrics/bucket.rs.html#726-728">Source</a><a href="#method.namespace" class="anchor">ยง</a><h4 class="code-header">fn <a class="fn">namespace</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.84.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="enum" href="enum.MetricNamespace.html" title="enum relay_metrics::MetricNamespace">MetricNamespace</a>&gt;</h4></section></summary><div class='docblock'>Metric namespace of the item. <a>Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.name" class="method trait-impl"><a class="src rightside" href="../src/relay_metrics/bucket.rs.html#730-732">Source</a><a href="#method.name" class="anchor">ยง</a><h4 class="code-header">fn <a class="fn">name</a>(&amp;self) -&gt; &amp;<a class="struct" href="struct.MetricName.html" title="struct relay_metrics::MetricName">MetricName</a></h4></section></summary><div class='docblock'>Name of the item.</div></details><details class="toggle method-toggle" open><summary><section id="method.to_hash" class="method trait-impl"><a class="src rightside" href="../src/relay_metrics/bucket.rs.html#734-739">Source</a><a href="#method.to_hash" class="anchor">ยง</a><h4 class="code-header">fn <a class="fn">to_hash</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.84.0/std/primitive.u32.html">u32</a></h4></section></summary><div class='docblock'>Transforms this item into a consistent hash.</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-Clone-for-Bucket" class="impl"><a class="src rightside" href="../src/relay_metrics/bucket.rs.html#496">Source</a><a href="#impl-Clone-for-Bucket" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> for <a class="struct" href="struct.Bucket.html" title="struct relay_metrics::Bucket">Bucket</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.clone" class="method trait-impl"><a class="src rightside" href="../src/relay_metrics/bucket.rs.html#496">Source</a><a href="#method.clone" class="anchor">ยง</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.84.0/core/clone/trait.Clone.html#tymethod.clone" class="fn">clone</a>(&amp;self) -&gt; <a class="struct" href="struct.Bucket.html" title="struct relay_metrics::Bucket">Bucket</a></h4></section></summary><div class='docblock'>Returns a copy of the value. <a href="https://doc.rust-lang.org/1.84.0/core/clone/trait.Clone.html#tymethod.clone">Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.clone_from" class="method trait-impl"><span class="rightside"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span> ยท <a class="src" href="https://doc.rust-lang.org/1.84.0/src/core/clone.rs.html#174">Source</a></span><a href="#method.clone_from" class="anchor">ยง</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.84.0/core/clone/trait.Clone.html#method.clone_from" class="fn">clone_from</a>(&amp;mut self, source: &amp;Self)</h4></section></summary><div class='docblock'>Performs copy-assignment from <code>source</code>. <a href="https://doc.rust-lang.org/1.84.0/core/clone/trait.Clone.html#method.clone_from">Read more</a></div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-Debug-for-Bucket" class="impl"><a class="src rightside" href="../src/relay_metrics/bucket.rs.html#496">Source</a><a href="#impl-Debug-for-Bucket" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="struct.Bucket.html" title="struct relay_metrics::Bucket">Bucket</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.fmt" class="method trait-impl"><a class="src rightside" href="../src/relay_metrics/bucket.rs.html#496">Source</a><a href="#method.fmt" class="anchor">ยง</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.84.0/core/fmt/trait.Debug.html#tymethod.fmt" class="fn">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.84.0/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="type" href="https://doc.rust-lang.org/1.84.0/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></h4></section></summary><div class='docblock'>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/1.84.0/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-Deserialize%3C'de%3E-for-Bucket" class="impl"><a class="src rightside" href="../src/relay_metrics/bucket.rs.html#496">Source</a><a href="#impl-Deserialize%3C'de%3E-for-Bucket" class="anchor">ยง</a><h3 class="code-header">impl&lt;'de&gt; <a class="trait" href="https://docs.rs/serde/1.0.215/serde/de/trait.Deserialize.html" title="trait serde::de::Deserialize">Deserialize</a>&lt;'de&gt; for <a class="struct" href="struct.Bucket.html" title="struct relay_metrics::Bucket">Bucket</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.deserialize" class="method trait-impl"><a class="src rightside" href="../src/relay_metrics/bucket.rs.html#496">Source</a><a href="#method.deserialize" class="anchor">ยง</a><h4 class="code-header">fn <a href="https://docs.rs/serde/1.0.215/serde/de/trait.Deserialize.html#tymethod.deserialize" class="fn">deserialize</a>&lt;__D&gt;(__deserializer: __D) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.84.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;Self, __D::<a class="associatedtype" href="https://docs.rs/serde/1.0.215/serde/de/trait.Deserializer.html#associatedtype.Error" title="type serde::de::Deserializer::Error">Error</a>&gt;<div class="where">where
    __D: <a class="trait" href="https://docs.rs/serde/1.0.215/serde/de/trait.Deserializer.html" title="trait serde::de::Deserializer">Deserializer</a>&lt;'de&gt;,</div></h4></section></summary><div class='docblock'>Deserialize this value from the given Serde deserializer. <a href="https://docs.rs/serde/1.0.215/serde/de/trait.Deserialize.html#tymethod.deserialize">Read more</a></div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-From%3C%26Bucket%3E-for-BucketView%3C'a%3E" class="impl"><a class="src rightside" href="../src/relay_metrics/view.rs.html#584-588">Source</a><a href="#impl-From%3C%26Bucket%3E-for-BucketView%3C'a%3E" class="anchor">ยง</a><h3 class="code-header">impl&lt;'a&gt; <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;&amp;'a <a class="struct" href="struct.Bucket.html" title="struct relay_metrics::Bucket">Bucket</a>&gt; for <a class="struct" href="struct.BucketView.html" title="struct relay_metrics::BucketView">BucketView</a>&lt;'a&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from" class="method trait-impl"><a class="src rightside" href="../src/relay_metrics/view.rs.html#585-587">Source</a><a href="#method.from" class="anchor">ยง</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.84.0/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(value: &amp;'a <a class="struct" href="struct.Bucket.html" title="struct relay_metrics::Bucket">Bucket</a>) -&gt; Self</h4></section></summary><div class='docblock'>Converts to this type from the input type.</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-PartialEq-for-Bucket" class="impl"><a class="src rightside" href="../src/relay_metrics/bucket.rs.html#496">Source</a><a href="#impl-PartialEq-for-Bucket" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/cmp/trait.PartialEq.html" title="trait core::cmp::PartialEq">PartialEq</a> for <a class="struct" href="struct.Bucket.html" title="struct relay_metrics::Bucket">Bucket</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.eq" class="method trait-impl"><a class="src rightside" href="../src/relay_metrics/bucket.rs.html#496">Source</a><a href="#method.eq" class="anchor">ยง</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.84.0/core/cmp/trait.PartialEq.html#tymethod.eq" class="fn">eq</a>(&amp;self, other: &amp;<a class="struct" href="struct.Bucket.html" title="struct relay_metrics::Bucket">Bucket</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.84.0/std/primitive.bool.html">bool</a></h4></section></summary><div class='docblock'>Tests for <code>self</code> and <code>other</code> values to be equal, and is used by <code>==</code>.</div></details><details class="toggle method-toggle" open><summary><section id="method.ne" class="method trait-impl"><span class="rightside"><span class="since" title="Stable since Rust version 1.0.0">1.0.0</span> ยท <a class="src" href="https://doc.rust-lang.org/1.84.0/src/core/cmp.rs.html#261">Source</a></span><a href="#method.ne" class="anchor">ยง</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.84.0/core/cmp/trait.PartialEq.html#method.ne" class="fn">ne</a>(&amp;self, other: <a class="primitive" href="https://doc.rust-lang.org/1.84.0/std/primitive.reference.html">&amp;Rhs</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.84.0/std/primitive.bool.html">bool</a></h4></section></summary><div class='docblock'>Tests for <code>!=</code>. The default implementation is almost always sufficient,
and should not be overridden without very good reason.</div></details></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-Serialize-for-Bucket" class="impl"><a class="src rightside" href="../src/relay_metrics/bucket.rs.html#496">Source</a><a href="#impl-Serialize-for-Bucket" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="https://docs.rs/serde/1.0.215/serde/ser/trait.Serialize.html" title="trait serde::ser::Serialize">Serialize</a> for <a class="struct" href="struct.Bucket.html" title="struct relay_metrics::Bucket">Bucket</a></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.serialize" class="method trait-impl"><a class="src rightside" href="../src/relay_metrics/bucket.rs.html#496">Source</a><a href="#method.serialize" class="anchor">ยง</a><h4 class="code-header">fn <a href="https://docs.rs/serde/1.0.215/serde/ser/trait.Serialize.html#tymethod.serialize" class="fn">serialize</a>&lt;__S&gt;(&amp;self, __serializer: __S) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.84.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;__S::<a class="associatedtype" href="https://docs.rs/serde/1.0.215/serde/ser/trait.Serializer.html#associatedtype.Ok" title="type serde::ser::Serializer::Ok">Ok</a>, __S::<a class="associatedtype" href="https://docs.rs/serde/1.0.215/serde/ser/trait.Serializer.html#associatedtype.Error" title="type serde::ser::Serializer::Error">Error</a>&gt;<div class="where">where
    __S: <a class="trait" href="https://docs.rs/serde/1.0.215/serde/ser/trait.Serializer.html" title="trait serde::ser::Serializer">Serializer</a>,</div></h4></section></summary><div class='docblock'>Serialize this value into the given Serde serializer. <a href="https://docs.rs/serde/1.0.215/serde/ser/trait.Serialize.html#tymethod.serialize">Read more</a></div></details></div></details><section id="impl-StructuralPartialEq-for-Bucket" class="impl"><a class="src rightside" href="../src/relay_metrics/bucket.rs.html#496">Source</a><a href="#impl-StructuralPartialEq-for-Bucket" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/marker/trait.StructuralPartialEq.html" title="trait core::marker::StructuralPartialEq">StructuralPartialEq</a> for <a class="struct" href="struct.Bucket.html" title="struct relay_metrics::Bucket">Bucket</a></h3></section></div><h2 id="synthetic-implementations" class="section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor">ยง</a></h2><div id="synthetic-implementations-list"><section id="impl-Freeze-for-Bucket" class="impl"><a href="#impl-Freeze-for-Bucket" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/marker/trait.Freeze.html" title="trait core::marker::Freeze">Freeze</a> for <a class="struct" href="struct.Bucket.html" title="struct relay_metrics::Bucket">Bucket</a></h3></section><section id="impl-RefUnwindSafe-for-Bucket" class="impl"><a href="#impl-RefUnwindSafe-for-Bucket" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="struct.Bucket.html" title="struct relay_metrics::Bucket">Bucket</a></h3></section><section id="impl-Send-for-Bucket" class="impl"><a href="#impl-Send-for-Bucket" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.Bucket.html" title="struct relay_metrics::Bucket">Bucket</a></h3></section><section id="impl-Sync-for-Bucket" class="impl"><a href="#impl-Sync-for-Bucket" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.Bucket.html" title="struct relay_metrics::Bucket">Bucket</a></h3></section><section id="impl-Unpin-for-Bucket" class="impl"><a href="#impl-Unpin-for-Bucket" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="struct.Bucket.html" title="struct relay_metrics::Bucket">Bucket</a></h3></section><section id="impl-UnwindSafe-for-Bucket" class="impl"><a href="#impl-UnwindSafe-for-Bucket" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="struct.Bucket.html" title="struct relay_metrics::Bucket">Bucket</a></h3></section></div><h2 id="blanket-implementations" class="section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor">ยง</a></h2><div id="blanket-implementations-list"><details class="toggle implementors-toggle"><summary><section id="impl-Any-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/core/any.rs.html#138">Source</a><a href="#impl-Any-for-T" class="anchor">ยง</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T<div class="where">where
    T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/1.84.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/core/any.rs.html#139">Source</a><a href="#method.type_id" class="anchor">ยง</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.84.0/core/any/trait.Any.html#tymethod.type_id" class="fn">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.84.0/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/1.84.0/core/any/trait.Any.html#tymethod.type_id">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/core/borrow.rs.html#209">Source</a><a href="#impl-Borrow%3CT%3E-for-T" class="anchor">ยง</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.84.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/core/borrow.rs.html#211">Source</a><a href="#method.borrow" class="anchor">ยง</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.84.0/core/borrow/trait.Borrow.html#tymethod.borrow" class="fn">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.84.0/std/primitive.reference.html">&amp;T</a></h4></section></summary><div class='docblock'>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.84.0/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/core/borrow.rs.html#217">Source</a><a href="#impl-BorrowMut%3CT%3E-for-T" class="anchor">ยง</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T<div class="where">where
    T: ?<a class="trait" href="https://doc.rust-lang.org/1.84.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/core/borrow.rs.html#218">Source</a><a href="#method.borrow_mut" class="anchor">ยง</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.84.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fn">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.84.0/std/primitive.reference.html">&amp;mut T</a></h4></section></summary><div class='docblock'>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.84.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-CloneToUninit-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/core/clone.rs.html#273">Source</a><a href="#impl-CloneToUninit-for-T" class="anchor">ยง</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/clone/trait.CloneToUninit.html" title="trait core::clone::CloneToUninit">CloneToUninit</a> for T<div class="where">where
    T: <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.clone_to_uninit" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/core/clone.rs.html#275">Source</a><a href="#method.clone_to_uninit" class="anchor">ยง</a><h4 class="code-header">unsafe fn <a href="https://doc.rust-lang.org/1.84.0/core/clone/trait.CloneToUninit.html#tymethod.clone_to_uninit" class="fn">clone_to_uninit</a>(&amp;self, dst: <a class="primitive" href="https://doc.rust-lang.org/1.84.0/std/primitive.pointer.html">*mut </a><a class="primitive" href="https://doc.rust-lang.org/1.84.0/std/primitive.u8.html">u8</a>)</h4></section></summary><span class="item-info"><div class="stab unstable"><span class="emoji">๐ฌ</span><span>This is a nightly-only experimental API. (<code>clone_to_uninit</code>)</span></div></span><div class='docblock'>Performs copy-assignment from <code>self</code> to <code>dst</code>. <a href="https://doc.rust-lang.org/1.84.0/core/clone/trait.CloneToUninit.html#tymethod.clone_to_uninit">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-From%3CT%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/core/convert/mod.rs.html#765">Source</a><a href="#impl-From%3CT%3E-for-T" class="anchor">ยง</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.from-1" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/core/convert/mod.rs.html#768">Source</a><a href="#method.from-1" class="anchor">ยง</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.84.0/core/convert/trait.From.html#tymethod.from" class="fn">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Instrument-for-T" class="impl"><a href="#impl-Instrument-for-T" class="anchor">ยง</a><h3 class="code-header">impl&lt;T&gt; Instrument for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.instrument" class="method trait-impl"><a href="#method.instrument" class="anchor">ยง</a><h4 class="code-header">fn <a class="fn">instrument</a>(self, span: Span) -&gt; Instrumented&lt;Self&gt;</h4></section></summary><div class='docblock'>Instruments this type with the provided [<code>Span</code>], returning an
<code>Instrumented</code> wrapper. <a>Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.in_current_span" class="method trait-impl"><a href="#method.in_current_span" class="anchor">ยง</a><h4 class="code-header">fn <a class="fn">in_current_span</a>(self) -&gt; Instrumented&lt;Self&gt;</h4></section></summary><div class='docblock'>Instruments this type with the <a href="super::Span::current()">current</a> <a href="crate::Span"><code>Span</code></a>, returning an
<code>Instrumented</code> wrapper. <a>Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/core/convert/mod.rs.html#748-750">Source</a><a href="#impl-Into%3CU%3E-for-T" class="anchor">ยง</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/core/convert/mod.rs.html#758">Source</a><a href="#method.into" class="anchor">ยง</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.84.0/core/convert/trait.Into.html#tymethod.into" class="fn">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/1.84.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-IntoEither-for-T" class="impl"><a class="src rightside" href="https://docs.rs/either/1/src/either/into_either.rs.html#64">Source</a><a href="#impl-IntoEither-for-T" class="anchor">ยง</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://docs.rs/either/1/either/into_either/trait.IntoEither.html" title="trait either::into_either::IntoEither">IntoEither</a> for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.into_either" class="method trait-impl"><a class="src rightside" href="https://docs.rs/either/1/src/either/into_either.rs.html#29">Source</a><a href="#method.into_either" class="anchor">ยง</a><h4 class="code-header">fn <a href="https://docs.rs/either/1/either/into_either/trait.IntoEither.html#method.into_either" class="fn">into_either</a>(self, into_left: <a class="primitive" href="https://doc.rust-lang.org/1.84.0/std/primitive.bool.html">bool</a>) -&gt; <a class="enum" href="https://docs.rs/either/1/either/enum.Either.html" title="enum either::Either">Either</a>&lt;Self, Self&gt;</h4></section></summary><div class='docblock'>Converts <code>self</code> into a <a href="https://docs.rs/either/1/either/enum.Either.html#variant.Left" title="variant either::Either::Left"><code>Left</code></a> variant of <a href="https://docs.rs/either/1/either/enum.Either.html" title="enum either::Either"><code>Either&lt;Self, Self&gt;</code></a>
if <code>into_left</code> is <code>true</code>.
Converts <code>self</code> into a <a href="https://docs.rs/either/1/either/enum.Either.html#variant.Right" title="variant either::Either::Right"><code>Right</code></a> variant of <a href="https://docs.rs/either/1/either/enum.Either.html" title="enum either::Either"><code>Either&lt;Self, Self&gt;</code></a>
otherwise. <a href="https://docs.rs/either/1/either/into_either/trait.IntoEither.html#method.into_either">Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.into_either_with" class="method trait-impl"><a class="src rightside" href="https://docs.rs/either/1/src/either/into_either.rs.html#55-57">Source</a><a href="#method.into_either_with" class="anchor">ยง</a><h4 class="code-header">fn <a href="https://docs.rs/either/1/either/into_either/trait.IntoEither.html#method.into_either_with" class="fn">into_either_with</a>&lt;F&gt;(self, into_left: F) -&gt; <a class="enum" href="https://docs.rs/either/1/either/enum.Either.html" title="enum either::Either">Either</a>&lt;Self, Self&gt;<div class="where">where
    F: <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/ops/function/trait.FnOnce.html" title="trait core::ops::function::FnOnce">FnOnce</a>(&amp;Self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.84.0/std/primitive.bool.html">bool</a>,</div></h4></section></summary><div class='docblock'>Converts <code>self</code> into a <a href="https://docs.rs/either/1/either/enum.Either.html#variant.Left" title="variant either::Either::Left"><code>Left</code></a> variant of <a href="https://docs.rs/either/1/either/enum.Either.html" title="enum either::Either"><code>Either&lt;Self, Self&gt;</code></a>
if <code>into_left(&amp;self)</code> returns <code>true</code>.
Converts <code>self</code> into a <a href="https://docs.rs/either/1/either/enum.Either.html#variant.Right" title="variant either::Either::Right"><code>Right</code></a> variant of <a href="https://docs.rs/either/1/either/enum.Either.html" title="enum either::Either"><code>Either&lt;Self, Self&gt;</code></a>
otherwise. <a href="https://docs.rs/either/1/either/into_either/trait.IntoEither.html#method.into_either_with">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-ToOwned-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/alloc/borrow.rs.html#82-84">Source</a><a href="#impl-ToOwned-for-T" class="anchor">ยง</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.84.0/alloc/borrow/trait.ToOwned.html" title="trait alloc::borrow::ToOwned">ToOwned</a> for T<div class="where">where
    T: <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Owned" class="associatedtype trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/alloc/borrow.rs.html#86">Source</a><a href="#associatedtype.Owned" class="anchor">ยง</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.84.0/alloc/borrow/trait.ToOwned.html#associatedtype.Owned" class="associatedtype">Owned</a> = T</h4></section></summary><div class='docblock'>The resulting type after obtaining ownership.</div></details><details class="toggle method-toggle" open><summary><section id="method.to_owned" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/alloc/borrow.rs.html#87">Source</a><a href="#method.to_owned" class="anchor">ยง</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.84.0/alloc/borrow/trait.ToOwned.html#tymethod.to_owned" class="fn">to_owned</a>(&amp;self) -&gt; T</h4></section></summary><div class='docblock'>Creates owned data from borrowed data, usually by cloning. <a href="https://doc.rust-lang.org/1.84.0/alloc/borrow/trait.ToOwned.html#tymethod.to_owned">Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.clone_into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/alloc/borrow.rs.html#91">Source</a><a href="#method.clone_into" class="anchor">ยง</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.84.0/alloc/borrow/trait.ToOwned.html#method.clone_into" class="fn">clone_into</a>(&amp;self, target: <a class="primitive" href="https://doc.rust-lang.org/1.84.0/std/primitive.reference.html">&amp;mut T</a>)</h4></section></summary><div class='docblock'>Uses borrowed data to replace owned data, usually by cloning. <a href="https://doc.rust-lang.org/1.84.0/alloc/borrow/trait.ToOwned.html#method.clone_into">Read more</a></div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/core/convert/mod.rs.html#805-807">Source</a><a href="#impl-TryFrom%3CU%3E-for-T" class="anchor">ยง</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error-1" class="associatedtype trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/core/convert/mod.rs.html#809">Source</a><a href="#associatedtype.Error-1" class="anchor">ยง</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.84.0/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/1.84.0/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/core/convert/mod.rs.html#812">Source</a><a href="#method.try_from" class="anchor">ยง</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.84.0/core/convert/trait.TryFrom.html#tymethod.try_from" class="fn">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.84.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.84.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E-for-T" class="impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/core/convert/mod.rs.html#790-792">Source</a><a href="#impl-TryInto%3CU%3E-for-T" class="anchor">ยง</a><h3 class="code-header">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T<div class="where">where
    U: <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><details class="toggle" open><summary><section id="associatedtype.Error" class="associatedtype trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/core/convert/mod.rs.html#794">Source</a><a href="#associatedtype.Error" class="anchor">ยง</a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.84.0/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.84.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'>The type returned in the event of a conversion error.</div></details><details class="toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl"><a class="src rightside" href="https://doc.rust-lang.org/1.84.0/src/core/convert/mod.rs.html#797">Source</a><a href="#method.try_into" class="anchor">ยง</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.84.0/core/convert/trait.TryInto.html#tymethod.try_into" class="fn">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.84.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.84.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'>Performs the conversion.</div></details></div></details><details class="toggle implementors-toggle"><summary><section id="impl-VZip%3CV%3E-for-T" class="impl"><a href="#impl-VZip%3CV%3E-for-T" class="anchor">ยง</a><h3 class="code-header">impl&lt;V, T&gt; VZip&lt;V&gt; for T<div class="where">where
    V: MultiLane&lt;T&gt;,</div></h3></section></summary><div class="impl-items"><section id="method.vzip" class="method trait-impl"><a href="#method.vzip" class="anchor">ยง</a><h4 class="code-header">fn <a class="fn">vzip</a>(self) -&gt; V</h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-WithSubscriber-for-T" class="impl"><a href="#impl-WithSubscriber-for-T" class="anchor">ยง</a><h3 class="code-header">impl&lt;T&gt; WithSubscriber for T</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.with_subscriber" class="method trait-impl"><a href="#method.with_subscriber" class="anchor">ยง</a><h4 class="code-header">fn <a class="fn">with_subscriber</a>&lt;S&gt;(self, subscriber: S) -&gt; WithDispatch&lt;Self&gt;<div class="where">where
    S: <a class="trait" href="https://doc.rust-lang.org/1.84.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;Dispatch&gt;,</div></h4></section></summary><div class='docblock'>Attaches the provided <a href="super::Subscriber"><code>Subscriber</code></a> to this type, returning a
[<code>WithDispatch</code>] wrapper. <a>Read more</a></div></details><details class="toggle method-toggle" open><summary><section id="method.with_current_subscriber" class="method trait-impl"><a href="#method.with_current_subscriber" class="anchor">ยง</a><h4 class="code-header">fn <a class="fn">with_current_subscriber</a>(self) -&gt; WithDispatch&lt;Self&gt;</h4></section></summary><div class='docblock'>Attaches the current <a href="crate::dispatcher#setting-the-default-subscriber">default</a> <a href="super::Subscriber"><code>Subscriber</code></a> to this type, returning a
[<code>WithDispatch</code>] wrapper. <a>Read more</a></div></details></div></details><section id="impl-DeserializeOwned-for-T" class="impl"><a class="src rightside" href="https://docs.rs/serde/1.0.215/src/serde/de/mod.rs.html#614">Source</a><a href="#impl-DeserializeOwned-for-T" class="anchor">ยง</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="https://docs.rs/serde/1.0.215/serde/de/trait.DeserializeOwned.html" title="trait serde::de::DeserializeOwned">DeserializeOwned</a> for T<div class="where">where
    T: for&lt;'de&gt; <a class="trait" href="https://docs.rs/serde/1.0.215/serde/de/trait.Deserialize.html" title="trait serde::de::Deserialize">Deserialize</a>&lt;'de&gt;,</div></h3></section><section id="impl-ErasedDestructor-for-T" class="impl"><a href="#impl-ErasedDestructor-for-T" class="anchor">ยง</a><h3 class="code-header">impl&lt;T&gt; ErasedDestructor for T<div class="where">where
    T: 'static,</div></h3></section><section id="impl-MaybeSendSync-for-T" class="impl"><a href="#impl-MaybeSendSync-for-T" class="anchor">ยง</a><h3 class="code-header">impl&lt;T&gt; MaybeSendSync for T</h3></section></div><script type="text/json" id="notable-traits-data">{"ParseBuckets<'_>":"<h3>Notable traits for <code><a class=\"struct\" href=\"struct.ParseBuckets.html\" title=\"struct relay_metrics::ParseBuckets\">ParseBuckets</a>&lt;'_&gt;</code></h3><pre><code><div class=\"where\">impl <a class=\"trait\" href=\"https://doc.rust-lang.org/1.84.0/core/iter/traits/iterator/trait.Iterator.html\" title=\"trait core::iter::traits::iterator::Iterator\">Iterator</a> for <a class=\"struct\" href=\"struct.ParseBuckets.html\" title=\"struct relay_metrics::ParseBuckets\">ParseBuckets</a>&lt;'_&gt;</div><div class=\"where\">    type <a href=\"https://doc.rust-lang.org/1.84.0/core/iter/traits/iterator/trait.Iterator.html#associatedtype.Item\" class=\"associatedtype\">Item</a> = <a class=\"enum\" href=\"https://doc.rust-lang.org/1.84.0/core/result/enum.Result.html\" title=\"enum core::result::Result\">Result</a>&lt;<a class=\"struct\" href=\"struct.Bucket.html\" title=\"struct relay_metrics::Bucket\">Bucket</a>, <a class=\"struct\" href=\"struct.ParseMetricError.html\" title=\"struct relay_metrics::ParseMetricError\">ParseMetricError</a>&gt;;</div>"}</script></section></div></main></body></html>