<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>actors</title><link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --node-fill:  #ECECFF; --node-border:  #CCCCFF; --note-fill:  #fff5ad; --note-border:  #aaaa33; --cluster-fill:  #ffffde  !important; --cluster-border:  #aaaa33  !important; }
.mermaid .label { color: var(--text-color); }
.node rect, .node circle, .node ellipse, .node polygon { fill: var(--node-fill); stroke: var(--node-border); stroke-width: 1px; }
.edgePath .path { stroke: var(--text-color); }
.edgeLabel { background-color: var(--bg-color); }
.cluster rect { fill: rgb(255, 255, 222) !important; rx: 4px !important; stroke: rgb(170, 170, 51) !important; stroke-width: 1px !important; }
.cluster text { fill: var(--text-color); }
.actor { stroke: var(--node-border); fill: var(--node-fill); }
text.actor { fill: var(--text-color); stroke: none; }
.actor-line { stroke: grey; }
.messageLine0 { stroke-width: 1.5px; stroke: var(--text-color); }
.messageLine1 { stroke-width: 1.5px; stroke: var(--text-color); }
#arrowhead { fill: var(--text-color); }
#crosshead path { fill: var(--text-color)  !important; stroke: var(--text-color)  !important; }
.messageText { fill: var(--text-color); stroke: none; }
.labelBox { stroke: var(--node-border); fill: var(--node-fill); }
.labelText { fill: var(--text-color); stroke: none; }
.loopText { fill: var(--text-color); stroke: none; }
.loopLine { stroke-width: 2px; stroke: var(--node-border); }
.note { stroke: var(--note-border); fill: var(--note-fill); }
.noteText { fill: var(--text-color); stroke: none; font-size: 14px; }
.section { stroke: none; opacity: 0.2; }
.section0 { fill: rgba(102, 102, 255, 0.490196); }
.section2 { fill: rgb(255, 244, 0); }
.section1, .section3 { fill: white; opacity: 0.2; }
.sectionTitle0 { fill: var(--text-color); }
.sectionTitle1 { fill: var(--text-color); }
.sectionTitle2 { fill: var(--text-color); }
.sectionTitle3 { fill: var(--text-color); }
.sectionTitle { text-anchor: start; font-size: 11px; }
.grid .tick { stroke: lightgrey; opacity: 0.3; shape-rendering: crispedges; }
.grid path { stroke-width: 0px; }
.today { fill: none; stroke: red; stroke-width: 2px; }
.task { stroke-width: 2px; }
.taskText { text-anchor: middle; font-size: 11px; }
.taskTextOutsideRight { fill: black; text-anchor: start; font-size: 11px; }
.taskTextOutsideLeft { fill: black; text-anchor: end; font-size: 11px; }
.taskText0, .taskText1, .taskText2, .taskText3 { fill: white; }
.task0, .task1, .task2, .task3 { fill: rgb(138, 144, 221); stroke: rgb(83, 79, 188); }
.taskTextOutside0, .taskTextOutside2 { fill: var(--text-color); }
.taskTextOutside1, .taskTextOutside3 { fill: var(--text-color); }
.active0, .active1, .active2, .active3 { fill: rgb(191, 199, 255); stroke: rgb(83, 79, 188); }
.activeText0, .activeText1, .activeText2, .activeText3 { fill: black !important; }
.done0, .done1, .done2, .done3 { stroke: grey; fill: lightgrey; stroke-width: 2px; }
.doneText0, .doneText1, .doneText2, .doneText3 { fill: black !important; }
.crit0, .crit1, .crit2, .crit3 { stroke: rgb(255, 136, 136); fill: red; stroke-width: 2px; }
.activeCrit0, .activeCrit1, .activeCrit2, .activeCrit3 { stroke: rgb(255, 136, 136); fill: rgb(191, 199, 255); stroke-width: 2px; }
.doneCrit0, .doneCrit1, .doneCrit2, .doneCrit3 { stroke: rgb(255, 136, 136); fill: lightgrey; stroke-width: 2px; cursor: pointer; shape-rendering: crispedges; }
.doneCritText0, .doneCritText1, .doneCritText2, .doneCritText3 { fill: black !important; }
.activeCritText0, .activeCritText1, .activeCritText2, .activeCritText3 { fill: black !important; }
.titleText { text-anchor: middle; font-size: 18px; fill: black; }
.node text { font-size: 14px; }
div.mermaidTooltip { position: absolute; text-align: center; max-width: 200px; padding: 2px; font-size: 12px; background-color: rgb(255, 255, 222); border: 1px solid rgb(170, 170, 51); border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px; pointer-events: none; z-index: 100; background-position: initial initial; background-repeat: initial initial; }
#write .md-diagram-panel .md-diagram-panel-preview div { }


:root { --bg-color: #ffffff; --text-color: #333333; --select-text-bg-color: #B5D6FC; --select-text-font-color: auto; --monospace: "Lucida Console",Consolas,"Courier",monospace; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857143; overflow-x: hidden; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; tab-size: 4; background-position: inherit inherit; background-repeat: inherit inherit; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 40px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
@media screen and (max-width: 500px) { 
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; }
button, input, select, textarea { color: inherit; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 2; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.701961); color: rgb(85, 85, 85); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px !important; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right-width: 0px; background-color: inherit; }
.CodeMirror-linenumber { }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; position: relative !important; background-position: inherit inherit; background-repeat: inherit inherit; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; background-position: 0px 0px; background-repeat: initial initial; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print { 
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid-page; break-before: avoid-page; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { padding-left: 32px; padding-right: 32px; padding-bottom: 0px; break-after: avoid-page; }
  .typora-export #write::after { height: 0px; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background-color: rgb(204, 204, 204); display: block; overflow-x: hidden; background-position: initial initial; background-repeat: initial initial; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) { 
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background-color: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; background-position: initial initial; background-repeat: initial initial; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; }
a.md-print-anchor { white-space: pre !important; border: none !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; text-shadow: initial !important; background-position: 0px 0px !important; background-repeat: initial initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.html-for-mac .inline-math-svg .MathJax_SVG { vertical-align: 0.2px; }
.md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none; }
.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; margin-top: 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="mermaid"] svg, [lang="flow"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom-width: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror-scroll { overflow-y: hidden; overflow-x: auto; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right-width: 1px; border-right-style: solid; border-right-color: rgb(221, 221, 221); background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; white-space: nowrap; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit inherit; background-repeat: inherit inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 30px; z-index: 3; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; border: none !important; background-position: 0px 0px !important; background-repeat: initial initial !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-top-left-radius: 0px; border-top-right-radius: 0px; border-bottom-right-radius: 0px; border-bottom-left-radius: 0px; border-width: 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; word-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; background-position: 0px 0px; background-repeat: initial initial; }
.CodeMirror-wrap pre { word-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right-width: 30px; border-right-style: solid; border-right-color: transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right-style: none; width: auto; }
.CodeMirror-linebackground { position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right-style: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background-color: rgba(255, 255, 0, 0.4); background-position: initial initial; background-repeat: initial initial; }
@media print { 
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

html {
    font-size: 16px;
}

body {
    font-family: "Open Sans","Clear Sans","Helvetica Neue",Helvetica,Arial,sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}
#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    padding-bottom: .3em;
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
   padding-bottom: .3em;
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}
h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border-top: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table tr th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table tr td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table tr th:first-child,
table tr td:first-child {
    margin-top: 0;
}
table tr th:last-child,
table tr td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    table,
    pre {
        page-break-inside: avoid;
    }
    pre {
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.md-lang {
    color: #b4654d;
}

.html-for-mac .context-menu {
    --item-hover-bg-color: #E6F0FE;
}

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}

 .typora-export li, .typora-export p, .typora-export,  .footnote-line {white-space: normal;} 
</style>
</head>
<body class='typora-export' >
<div  id='write'  class = 'is-mac'><h1><a name="actors" class="md-header-anchor"></a><span>Actors</span></h1><p>&nbsp;</p><p><span>This document describes how Semaphore works through the perspective of the system actors and the messages exchanged by them.</span></p><p><strong><span>TODO</span></strong><span> Short description about infrastructure (i.e. actix-web, actix, tokio, futures), note that we are using the old style Future trait, and actix 0.7.x .</span></p><h2><a name="controllerrs" class="md-header-anchor"></a><span>controller.rs</span></h2><h2><a name="eventsrs" class="md-header-anchor"></a><span>events.rs</span></h2><p><span>The </span><code>events.rs</code><span> module contains functionality related to the processing of events. Raw events being sent to the system are first processed, and then sent to Sentry for saving.</span></p><p><span>The module contains to actors:</span></p><ul><li><span> </span><code>EventManager</code><span> : an actor that receives all events, checks if the event should be processed (i.e. it is not filtered) and orchestrates all data needed for event processing. If the event should be processed it is passed to the </span><code>EventProcessor</code><span>. There is one </span><code>EventManager</code><span> in the system.</span></li><li><code>EventProcessor</code><span> : an CPU bound actor that receives all necessary project configuration and does the heavy lifting of processing the message (normalisation, PII stripping ...). There are multiple </span><code>EventProcessor</code><span> actors running in a thread pool.</span></li></ul><h3><a name="eventmanager" class="md-header-anchor"></a><span>EventManager</span></h3><p><span>The </span><code>EventManager</code><span> is an actor running in the main system arbiter. The system arbiter is a asynchronous arbiter  created when the Semaphore starts. The upshot of this is that all processing done by the event manager should be extremly quick. It is ok to wait on I/O but no significant processing may be done in the </span><code>EventManager</code><span>.</span></p><p><span>Once the </span><code>EventManager</code><span> had obtained the project state and had decided that the event should be processed the </span><code>EventManager</code><span> passes the event to the </span><code>EventProcessor</code><span> actors.</span></p><p>&nbsp;</p><p><strong><span>TODO</span></strong><span> document all handlers</span></p><h3><a name="eventprocessor" class="md-header-anchor"></a><span>EventProcessor</span></h3><p><span>The </span><code>EventProcessor</code><span> is an actor running in a SyncArbiter. There are multiple instances of the </span><code>EventProcessor</code><span> actor (roughly 1 per thread)  (</span><strong><span>TODO</span></strong><span> RaduW check that I&#39;m not talking nonsense here.).</span></p><p><span>The </span><code>EventProcessor</code><span> does the heavy lifting of event processing. The event processing does only synchronous work ( all the IO is handleed in the </span><code>EventManager</code><span> and all the needed state is passed to the </span><code>EventProcessor</code><span>)</span></p><p><span>Since all the work done by the event processor is the synchronous processing of an event there is only one type of message accepted by the </span><code>EventProcessor</code><span> actor:</span></p><h4><a name="processevent" class="md-header-anchor"></a><span>ProcessEvent</span></h4><p><span>The </span><code>ProcessEvent</code><span> handler prepares the event for ingestion. It normalizes the event, symbolicates its stack-trace and strips sensitive information (PPI stripping).</span></p><p><strong><span>TODO</span></strong><span> finish here</span></p><h2><a name="keysrs" class="md-header-anchor"></a><span>keys.rs</span></h2><h2><a name="outcomers" class="md-header-anchor"></a><span>outcome.rs</span></h2><h2><a name="serverrs" class="md-header-anchor"></a><span>server.rs</span></h2><h2><a name="storers" class="md-header-anchor"></a><span>store.rs</span></h2><h2><a name="upstreamrs" class="md-header-anchor"></a><span>upstream.rs</span></h2><h2><a name="projectrs" class="md-header-anchor"></a><span>project.rs</span></h2><p><span>The </span><code>project.rs</code><span> module contains functionality related to the project state. Sentry events belong to projects and projects belong to organizations (Semaphore doesn&#39;t care at the moment about organizations).</span></p><p><span>Projects serve to group the events (so that each Sentry customer can only see and deal with his/hers own events) and prescribe how messages are to be processed ( what should be filtered, which data inside the event should be anonymised (i.e PPI stripping), etc).</span></p><p><span>All activities around obtaining, caching and refreshing the project state is handled in this module.</span></p><p><span>The module contains two actors:</span></p><ul><li><code>Project</code><span>: an actor that holds project data</span></li><li><code>ProjectCache</code><span>: an actor that holds references to </span><code>Project</code><span> actors. </span></li></ul><p><span>From a high level perspective one obtains a </span><code>Project</code><span> from the </span><code>ProjectCache</code><span> and then uses the </span><code>Project</code><span> in order to get &#39;project specific&#39; information.</span></p><h3><a name="project" class="md-header-anchor"></a><span>Project</span></h3><p><span>The </span><code>Project</code><span> actor is responsible with decisions about how an event for a particular project should be handled. The project runs in an async arbiter ( I think it actully runs in the SystemArbiter </span><strong><span>TODO</span></strong><span> check ir that is true, or if it runs in another async arbiter).</span></p><p><span>The system constructs an actor for each project used. </span></p><p><span>The </span><code>Project</code><span> actor runs in an async context.</span></p><p><span>The </span><code>Project</code><span> actor responds to the following message types:</span></p><h4><a name="getprojectid" class="md-header-anchor"></a><span>GetProjectId</span></h4><p><span>The </span><code>GetProjectId</code><span> handler returns the </span><code>project_id</code><span> (trivial functionality).</span></p><h4><a name="getprojectstate" class="md-header-anchor"></a><span>GetProjectState</span></h4><p><span>The handler retuns the </span><code>ProjectState</code><span>, either directly (if it has a recent cached version) or by asking the </span><code>ProjectCache</code><span> to fetch it on its behalf.</span></p><h5><a name="pseudo-code" class="md-header-anchor"></a><span>Pseudo Code</span></h5><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> <span class="cm-string">'we have an up-to-date project state'</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-keyword">return</span> <span class="cm-variable-2">self</span>.<span class="cm-property">project_state</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> <span class="cm-keyword">not</span> <span class="cm-variable-2">self</span>.<span class="cm-property">receiver</span>: <span class="cm-comment"># we don't have an already active request for the project state </span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">channel</span>, <span class="cm-variable">receiver</span> = <span class="cm-string">'create a channel and save its receiver'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">async</span>: <span class="cm-comment"># ops that run at some time in the future</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">project_state</span> = <span class="cm-keyword">await</span> <span class="cm-variable">ProjectCache</span>.<span class="cm-property">send</span>(<span class="cm-variable">FetchProjectState</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">channel</span>.<span class="cm-property">sender</span>.<span class="cm-property">push</span>(<span class="cm-variable">project_state</span>) <span class="cm-comment"># put the state on the channel when available</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">channel</span> = <span class="cm-keyword">None</span> <span class="cm-comment"># clenaup after we have pushed the ProjectState</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">return</span> <span class="cm-variable">future</span>(<span class="cm-variable">receiver</span>) <span class="cm-comment"># a Future that resolves with the ProjectState when available</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 198px;"></div><div class="CodeMirror-gutters" style="display: none; height: 198px;"></div></div></div></pre><h4><a name="geteventaction" class="md-header-anchor"></a><span>GetEventAction</span></h4><p><span>The handler answers the question: How should an event be handled? </span></p><p><span>An event may be handled in one of three ways specified by the </span><code>EventAction</code><span> enum.</span></p><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="rust"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="rust"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">pub</span> <span class="cm-keyword">enum</span> <span class="cm-def">EventAction</span> {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">/// The event should be discarded.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">Discard</span>(<span class="cm-variable">DiscardReason</span>),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">/// The event should be discarded and the client should back off for some time.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">RetryAfter</span>(<span class="cm-variable">RateLimit</span>),</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-comment">/// The event should be processed and sent to upstream.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable">Accept</span>,</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 176px;"></div><div class="CodeMirror-gutters" style="display: none; height: 176px;"></div></div></div></pre><h5><a name="pseudo-code-n40" class="md-header-anchor"></a><span>Pseudo Code</span></h5><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> <span class="cm-string">'we have a cached rate limit value for the current event key'</span>:</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">RetryAfter</span> <span class="cm-comment"># the event is discarded without further processing</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> <span class="cm-string">'we have a recent project state'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-comment"># Ask the ProjectState what to do with the msg</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-keyword">return</span> <span class="cm-variable">projectState</span>.<span class="cm-property">get_event_action</span>(<span class="cm-variable">event</span>) </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># No recent ProjectState, fetch it from the ProjectCache actor</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">async</span>: <span class="cm-comment"># ops that run at soem time in the future</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">  </span><span class="cm-variable">projectState</span> = <span class="cm-keyword">await</span> <span class="cm-variable">ProjectCache</span>.<span class="cm-property">send</span>(<span class="cm-variable">FetchProjectState</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># return a future that will resolve when the project state becomes avaialble &nbsp;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">return</span> <span class="cm-variable">future</span>(<span class="cm-variable">projectState</span>.<span class="cm-property">get_event_action</span>(<span class="cm-variable">event</span>))</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 220px;"></div><div class="CodeMirror-gutters" style="display: none; height: 220px;"></div></div></div></pre><h4><a name="ratelimit" class="md-header-anchor"></a><span>RateLimit</span></h4><p><span>The handler is used to update chached versions of project RateLimits.</span></p><h5><a name="pseudo-code-n44" class="md-header-anchor"></a><span>Pseudo Code</span></h5><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> <span class="cm-variable">rate_limit</span>.<span class="cm-property">type</span> <span class="cm-keyword">not</span> <span class="cm-keyword">in</span> <span class="cm-variable-2">self</span>.<span class="cm-property">rate_limit_cache</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-2">self</span>.<span class="cm-property">rate_limit_cache</span>.<span class="cm-property">insert</span>(<span class="cm-variable">rate_limit</span>) <span class="cm-comment"># insert a new rate limit</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">else</span> <span class="cm-keyword">if</span> <span class="cm-string">"rate_limit expires sooner than the old cached value"</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-2">self</span>.<span class="cm-property">rate_limit_cache</span>.<span class="cm-property">insert</span>(<span class="cm-variable">rate_limit</span>) <span class="cm-comment"># update old rate limit</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 88px;"></div><div class="CodeMirror-gutters" style="display: none; height: 88px;"></div></div></div></pre><h3><a name="projectcache" class="md-header-anchor"></a><span>ProjectCache</span></h3><p><span>The </span><code>ProjectCache</code><span>  actor is responsible for providing </span><code>Project</code><span> actors.</span></p><p><span>The </span><code>ProjectCache</code><span> runs in an asynchronous context. There is only one instance of the </span><code>ProjectCache</code><span> in the system.</span></p><p><span>The project runs in an async arbiter ( I think it actully runs in the SystemArbiter </span><strong><span>TODO</span></strong><span> check ir that is true, or if it runs in another async arbiter).</span></p><p><span>The </span><code>ProjectCache</code><span> actor responds to the following messages:</span></p><h4><a name="getproject" class="md-header-anchor"></a><span>GetProject</span></h4><p><span>Retuns a </span><code>Project</code><span> actor for the required project.</span></p><h5><a name="pseudo-code-n52" class="md-header-anchor"></a><span>Pseudo Code</span></h5><pre spellcheck="false" class="md-fences md-end-block ty-contain-cm modeLoaded" lang="python"><div class="CodeMirror cm-s-inner CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 0px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> <span class="cm-variable">project_id</span> <span class="cm-keyword">not</span> <span class="cm-keyword">in</span> <span class="cm-variable-2">self</span>.<span class="cm-property">project_cache</span>:</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">project</span> = <span class="cm-variable">Project</span>(<span class="cm-variable">project_id</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">project</span>.<span class="cm-property">start</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable-2">self</span>.<span class="cm-property">project_cache</span>[<span class="cm-variable">project_id</span>] = <span class="cm-variable">project</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">return</span> <span class="cm-variable-2">self</span>.<span class="cm-property">project_cache</span>[<span class="cm-variable">porject_id</span>] </span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 132px;"></div><div class="CodeMirror-gutters" style="display: none; height: 132px;"></div></div></div></pre><h4><a name="fetchprojectstate" class="md-header-anchor"></a><span>FetchProjectState</span></h4><p><span>Registers the intention of a project to retrieve the project state.</span></p><p><span>The </span><code>FetchProjectState</code><span> functionality logicaly belongs to the </span><code>Project</code><span> actor but it is handled by the </span><code>ProjectCache</code><span> in order to batch requests for the project state from multiple </span><code>Project</code><span> actors. </span></p><p><span>A </span><code>Project</code><span> registers its desire to obtain its project state with the </span><code>ProjectCache</code><span> by sending the </span><code>FetchProjectState</code><span> and the </span><code>ProjectCache</code><span> batches all requests during a batching period and emits one request to the upstream (another semaphore or the Sentry server) for all required project states.</span></p><p><span>The handler checks if there is already a scheduled time for fetching project states and, if not, it schedules a delayed function that will do the actual fetching for all projects that registered their desire for getting the project state (see function: </span><code>ProjectCache::fetch_states</code><span>). </span></p><p><strong><span>TODO: Add pseudo code </span></strong></p><p>&nbsp;</p><h4><a name="updatelocalstates" class="md-header-anchor"></a><span>UpdateLocalStates</span></h4><p><span>Updates project states for project states comming from a local file configuration.(TODO check if that is correct  RaduW.  10.Oct.2019)</span></p><p><span>This message is emmited periodically by a thread that loops and periodically checks the local file system for configuration changes (see function: </span><code>poll_local_states</code><span> ).</span></p><p>&nbsp;</p><p>&nbsp;</p><p><strong><span>Store endpoint request processing</span></strong></p><div class="md-diagram-panel"><svg id="mermaidChart0" xmlns="http://www.w3.org/2000/svg" height="100%" viewBox="0 0 1192.984375 618.5" style=""><style></style><style>#mermaidChart0 {
    color: rgb(51, 51, 51);
    font: normal normal normal normal 14.399999618530273px/23px "Lucida Console", Consolas, Courier, monospace;
  }</style><g transform="translate(32, 32)"><g class="output"><g class="clusters"></g><g class="edgePaths"><g class="edgePath" style="opacity: 1;"><path class="path" d="M207.921875,48.57280526929807L274.4296875,31.5L401.8515625,31.5L550.28125,31.5L685.3786282771536,143.5" marker-end="url(#arrowhead44)" style="fill:none"></path><defs><marker id="arrowhead44" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M207.921875,66.93963882947696L274.4296875,63L401.8515625,63L550.28125,63L711.3125,63L880.7421875,63L988.15625,88.4409622009124" marker-end="url(#arrowhead45)" style="fill:none"></path><defs><marker id="arrowhead45" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M145.31779233870967,104.75L274.4296875,241.75L341.4375,241.75" marker-end="url(#arrowhead46)" style="fill:none"></path><defs><marker id="arrowhead46" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M750.71875,165L880.7421875,165L990.605578564257,124.25" marker-end="url(#arrowhead47)" style="fill:none"></path><defs><marker id="arrowhead47" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M426.58984375,220.25L550.28125,112.75L671.90625,152.21380749078207" marker-end="url(#arrowhead48)" style="fill:none"></path><defs><marker id="arrowhead48" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M438.958984375,220.25L550.28125,155.75L671.90625,162.7364156801863" marker-end="url(#arrowhead49)" style="fill:none"></path><defs><marker id="arrowhead49" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M462.265625,224.24807884625505L550.28125,198.75L671.90625,173.25902386959052" marker-end="url(#arrowhead50)" style="fill:none"></path><defs><marker id="arrowhead50" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M377.11056547619046,263.25L341.4375,294.25L341.4375,302L401.8515625,309.75L462.265625,302L462.265625,294.25L426.59255952380954,263.25" marker-end="url(#arrowhead51)" style="fill:none"></path><defs><marker id="arrowhead51" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M462.265625,241.75L550.28125,241.75L671.90625,183.78163205899477" marker-end="url(#arrowhead52)" style="fill:none"></path><defs><marker id="arrowhead52" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M445.1225900423729,263.25L550.28125,315.5L638.296875,315.5" marker-end="url(#arrowhead53)" style="fill:none"></path><defs><marker id="arrowhead53" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M419.7547225631136,263.25L550.28125,420L642.5,420" marker-end="url(#arrowhead54)" style="fill:none"></path><defs><marker id="arrowhead54" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M413.61649625576035,263.25L550.28125,513L646.703125,513" marker-end="url(#arrowhead55)" style="fill:none"></path><defs><marker id="arrowhead55" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g><g class="edgePath" style="opacity: 1;"><path class="path" d="M1023.8293154761905,124.25L988.15625,155.25L988.15625,163L1048.5703125,170.75L1108.984375,163L1108.984375,155.25L1073.3113095238095,124.25" marker-end="url(#arrowhead56)" style="fill:none"></path><defs><marker id="arrowhead56" viewBox="0 0 10 10" refX="9" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowheadPath" style="stroke-width: 1px; stroke-dasharray: 1px, 0px;"></path></marker></defs></g></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(401.8515625,31.5)" style="opacity: 1;"><g transform="translate(-58.8125,-11.5)" class="label"><foreignObject width="117.625" height="23"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">GetEventAction</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(550.28125,63)" style="opacity: 1;"><g transform="translate(-42.0078125,-11.5)" class="label"><foreignObject width="84.015625" height="23"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">GetProject</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(274.4296875,241.75)" style="opacity: 1;"><g transform="translate(-42.0078125,-11.5)" class="label"><foreignObject width="84.015625" height="23"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">QueueEvent</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(880.7421875,165)" style="opacity: 1;"><g transform="translate(-71.4140625,-11.5)" class="label"><foreignObject width="142.828125" height="23"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">FetchProjectState</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(550.28125,112.75)" style="opacity: 1;"><g transform="translate(-63.015625,-11.5)" class="label"><foreignObject width="126.03125" height="23"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">GetProjectState</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(550.28125,155.75)" style="opacity: 1;"><g transform="translate(-58.8125,-11.5)" class="label"><foreignObject width="117.625" height="23"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">GetEventAction</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(550.28125,198.75)" style="opacity: 1;"><g transform="translate(-37.8125,-11.5)" class="label"><foreignObject width="75.625" height="23"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">RateLimit</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(401.8515625,309.75)" style="opacity: 1;"><g transform="translate(-46.2109375,-11.5)" class="label"><foreignObject width="92.421875" height="23"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">HandleEvent</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(550.28125,241.75)" style="opacity: 1;"><g transform="translate(-50.4140625,-11.5)" class="label"><foreignObject width="100.828125" height="23"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">GetProjectId</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(550.28125,315.5)" style="opacity: 1;"><g transform="translate(-50.4140625,-11.5)" class="label"><foreignObject width="100.828125" height="23"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">ProcessEvent</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(550.28125,420)" style="opacity: 1;"><g transform="translate(-42.0078125,-11.5)" class="label"><foreignObject width="84.015625" height="23"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">StoreEvent</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(550.28125,513)" style="opacity: 1;"><g transform="translate(-46.2109375,-11.5)" class="label"><foreignObject width="92.421875" height="23"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">SendRequest</span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1048.5703125,170.75)" style="opacity: 1;"><g transform="translate(-71.4140625,-11.5)" class="label"><foreignObject width="142.828125" height="23"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;"><span class="edgeLabel">UpdateLocalStates</span></div></foreignObject></g></g></g><g class="nodes"><g class="node" id="Store" transform="translate(113.7109375,71.25)" style="opacity: 1;"><polygon points="-33,0 154.421875,0 154.421875,-66 -33,-66 0,-33" transform="translate(-77.2109375,33)"></polygon><g class="label" transform="translate(0,0)"><g transform="translate(-67.2109375,-23)"><foreignObject width="134.421875" height="46"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">/api/#PRJ#/store<br>store.storeEvent</div></foreignObject></g></g></g><g class="node" id="Upstream" transform="translate(711.3125,513)" style="opacity: 1;"><rect rx="5" ry="5" x="-64.609375" y="-21.5" width="129.21875" height="43"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-54.609375,-11.5)"><foreignObject width="109.21875" height="23"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">UpstreamRelay</div></foreignObject></g></g></g><g class="node" id="EvMan" transform="translate(401.8515625,241.75)" style="opacity: 1;"><rect rx="5" ry="5" x="-60.4140625" y="-21.5" width="120.828125" height="43"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-50.4140625,-11.5)"><foreignObject width="100.828125" height="23"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">EventManager</div></foreignObject></g></g></g><g class="node" id="Proj" transform="translate(711.3125,165)" style="opacity: 1;"><rect rx="5" ry="5" x="-39.40625" y="-21.5" width="78.8125" height="43"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-29.40625,-11.5)"><foreignObject width="58.8125" height="23"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">Project</div></foreignObject></g></g></g><g class="node" id="EvProc" transform="translate(711.3125,315.5)" style="opacity: 1;"><rect rx="0" ry="0" x="-73.015625" y="-33" width="146.03125" height="66"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-63.015625,-23)"><foreignObject width="126.03125" height="46"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">EventProcessor <br>(sync)</div></foreignObject></g></g></g><g class="node" id="Cache" transform="translate(1048.5703125,102.75)" style="opacity: 1;"><rect rx="5" ry="5" x="-60.4140625" y="-21.5" width="120.828125" height="43"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-50.4140625,-11.5)"><foreignObject width="100.828125" height="23"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">ProjectCache</div></foreignObject></g></g></g><g class="node" id="StoreF" transform="translate(711.3125,420)" style="opacity: 1;"><rect rx="5" ry="5" x="-68.8125" y="-21.5" width="137.625" height="43"></rect><g class="label" transform="translate(0,0)"><g transform="translate(-58.8125,-11.5)"><foreignObject width="117.625" height="23"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; white-space: nowrap;">StoreForwarder</div></foreignObject></g></g></g></g></g></g></svg></div><p><strong><span>Event ingestion</span></strong></p><div class="md-diagram-panel"><svg height="734" version="1.1" width="837.734375" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="overflow: hidden; position: relative; left: -0.5px; top: -0.25px; zoom: 0.9549566352699804; max-width: 100%; height: auto;" viewBox="0 0 837.734375 733.999267578125"><desc>Created with Raphaël 2.2.0</desc><defs><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block"></path><marker id="raphael-marker-endblock55-obje6dms" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objlh4wn" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj4sy2d" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objar70u" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objblroe" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objxp5ka" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj5wvzk" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objjvbzv" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objfrngj" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objbnrfu" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objhuwea" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objti1c6" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj3m9y4" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objs7yzr" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objhm7zv" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker></defs><rect x="10" y="10" width="154.03125" height="28" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="15" y="15" width="144.03125" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="87.015625" y="24" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">Event Ingestion</tspan></text><rect x="10" y="48" width="125.625" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="20" y="58" width="105.625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="72.8125" y="67" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">store_event</tspan></text><rect x="10" y="676" width="125.625" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="20" y="686" width="105.625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="72.8125" y="695" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">store_event</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M72.8125,86L72.8125,676" stroke-width="2" style=""></path><rect x="155.625" y="48" width="135.21875" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="165.625" y="58" width="115.21875" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="223.234375" y="67" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">ProjectCache</tspan></text><rect x="155.625" y="676" width="135.21875" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="165.625" y="686" width="115.21875" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="223.234375" y="695" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">ProjectCache</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M223.234375,86L223.234375,676" stroke-width="2" style=""></path><rect x="310.84375" y="48" width="87.21875" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="320.84375" y="58" width="67.21875" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="354.453125" y="67" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">Project</tspan></text><rect x="310.84375" y="676" width="87.21875" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="320.84375" y="686" width="67.21875" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="354.453125" y="695" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">Project</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M354.453125,86L354.453125,676" stroke-width="2" style=""></path><rect x="450.875" y="48" width="135.21875" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="460.875" y="58" width="115.21875" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="518.484375" y="67" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">EventManager</tspan></text><rect x="450.875" y="676" width="135.21875" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="460.875" y="686" width="115.21875" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="518.484375" y="695" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">EventManager</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M518.484375,86L518.484375,676" stroke-width="2" style=""></path><rect x="653.296875" y="48" width="154.4375" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="663.296875" y="58" width="134.4375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="730.515625" y="67" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">EventProcessor</tspan></text><rect x="653.296875" y="676" width="154.4375" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="663.296875" y="686" width="134.4375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="730.515625" y="695" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">EventProcessor</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M730.515625,86L730.515625,676" stroke-width="2" style=""></path><rect x="100.015625" y="102" width="96.015625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="148.0234375" y="111" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">GetProject</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M72.8125,124C72.8125,124,192.12907028198242,124,218.22957003116608,124" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obje6dms)" stroke-dasharray="6,2" style=""></path><rect x="114.40625" y="140" width="67.234375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="148.0234375" y="149" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">Project</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M223.234375,162C223.234375,162,103.91780471801758,162,77.81730496883392,162" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objlh4wn)" stroke-dasharray="6,2" style=""></path><rect x="146.421875" y="178" width="134.421875" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="213.6328125" y="187" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">GetEventAction</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M72.8125,200C72.8125,200,311.6589394956827,200,349.44519261902315,200" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj4sy2d)" stroke-dasharray="6,2" style=""></path><rect x="160.8125" y="216" width="105.640625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="213.6328125" y="225" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">EventAction</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M354.453125,238C354.453125,238,115.60668550431728,238,77.82043238097685,238" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objar70u)" stroke-dasharray="6,2" style=""></path><rect x="247.640625" y="254" width="96.015625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="295.6484375" y="263" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">QueueEvent</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M72.8125,276C72.8125,276,464.51629638671875,276,513.4792709350586,276" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objblroe)" stroke-dasharray="6,2" style=""></path><rect x="257.234375" y="292" width="76.828125" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="295.6484375" y="301" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">event_id</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M518.484375,314C518.484375,314,126.78057861328125,314,77.8176040649414,314" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objxp5ka)" stroke-dasharray="6,2" style=""></path><rect x="543.484375" y="334" width="105.625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="596.296875" y="343" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">HandleEvent</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M518.484375,329L538.484375,329" stroke-width="2" stroke-dasharray="6,2" style=""></path><path fill="var(--bg-color)" stroke="currentColor" d="M538.484375,329L538.484375,362" stroke-width="2" stroke-dasharray="6,2" style=""></path><path fill="var(--bg-color)" stroke="currentColor" d="M538.484375,362C538.484375,362,529.4034881591797,362,523.4796283841133,362" stroke-width="2" stroke-dasharray="6,2" marker-end="url(#raphael-marker-endblock55-obj5wvzk)" style=""></path><rect x="378.859375" y="368" width="115.21875" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="436.46875" y="377" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">GetProjectId</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M518.484375,390C518.484375,390,386.94209882616997,390,359.4518184539047,390" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objjvbzv)" stroke-dasharray="6,2" style=""></path><rect x="393.25" y="406" width="86.4375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="436.46875" y="415" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">ProjectId</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M354.453125,428C354.453125,428,485.99540117383003,428,513.4856815460953,428" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objfrngj)" stroke-dasharray="6,2" style=""></path><rect x="369.25" y="444" width="134.4375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="436.46875" y="453" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">GetEventAction</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M518.484375,466C518.484375,466,386.94209882616997,466,359.4518184539047,466" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objbnrfu)" stroke-dasharray="6,2" style=""></path><rect x="383.65625" y="482" width="105.625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="436.46875" y="491" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">EventAction</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M354.453125,504C354.453125,504,485.99540117383003,504,513.4856815460953,504" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objhuwea)" stroke-dasharray="6,2" style=""></path><rect x="364.453125" y="520" width="144.03125" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="436.46875" y="529" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">GetProjectState</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M518.484375,542C518.484375,542,386.94209882616997,542,359.4518184539047,542" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objti1c6)" stroke-dasharray="6,2" style=""></path><rect x="378.859375" y="558" width="115.21875" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="436.46875" y="567" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">ProjectState</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M354.453125,580C354.453125,580,485.99540117383003,580,513.4856815460953,580" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj3m9y4)" stroke-dasharray="6,2" style=""></path><rect x="566.890625" y="596" width="115.21875" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="624.5" y="605" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">ProcessEvent</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M518.484375,618C518.484375,618,693.468768985942,618,725.5093684706726,618" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objs7yzr)" stroke-dasharray="6,2" style=""></path><rect x="528.484375" y="634" width="192.03125" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="624.5" y="643" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">ProcessEventResponse</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M730.515625,656C730.515625,656,555.531231014058,656,523.4906315293274,656" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objhm7zv)" stroke-dasharray="6,2" style=""></path></svg></div><p>&nbsp;</p><p><strong><span>Server bootstrap</span></strong></p><div class="md-diagram-panel"><svg height="366" version="1.1" width="1164.21875" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="overflow: hidden; position: relative; left: -0.5px; top: -0.046875px; zoom: 0.6871560864313515; max-width: 100%; height: auto;" viewBox="0 0 1164.21875 365.9785461425781"><desc>Created with Raphaël 2.2.0</desc><defs><marker id="raphael-marker-endblock55-objx6bjh" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obje0470" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objfzphr" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objyuigb" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj3dogk" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objyom4o" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obju0gi2" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker></defs><rect x="10" y="20" width="106.4375" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="20" y="30" width="86.4375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="63.21875" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">main.main</tspan></text><rect x="10" y="308" width="106.4375" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="20" y="318" width="86.4375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="63.21875" y="327" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">main.main</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M63.21875,58L63.21875,308" stroke-width="2" style=""></path><rect x="136.4375" y="20" width="125.625" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="146.4375" y="30" width="105.625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="199.25" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">cli.execute</tspan></text><rect x="136.4375" y="308" width="125.625" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="146.4375" y="318" width="105.625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="199.25" y="327" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">cli.execute</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M199.25,58L199.25,308" stroke-width="2" style=""></path><rect x="282.0625" y="20" width="154.4375" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="292.0625" y="30" width="134.4375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="359.28125" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">server.lib.run</tspan></text><rect x="282.0625" y="308" width="154.4375" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="292.0625" y="318" width="134.4375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="359.28125" y="327" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">server.lib.run</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M359.28125,58L359.28125,308" stroke-width="2" style=""></path><rect x="456.5" y="20" width="116.03125" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="466.5" y="30" width="96.03125" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="514.515625" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">Controller</tspan></text><rect x="456.5" y="308" width="116.03125" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="466.5" y="318" width="96.03125" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="514.515625" y="327" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">Controller</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M514.515625,58L514.515625,308" stroke-width="2" style=""></path><rect x="592.53125" y="20" width="212.03125" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="602.53125" y="30" width="192.03125" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="698.546875" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">server.actors.Server</tspan></text><rect x="592.53125" y="308" width="212.03125" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="602.53125" y="318" width="192.03125" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="698.546875" y="327" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">server.actors.Server</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M698.546875,58L698.546875,308" stroke-width="2" style=""></path><rect x="824.5625" y="20" width="154.4375" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="834.5625" y="30" width="134.4375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="901.78125" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">server.service</tspan></text><rect x="824.5625" y="308" width="154.4375" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="834.5625" y="318" width="134.4375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="901.78125" y="327" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">server.service</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M901.78125,58L901.78125,308" stroke-width="2" style=""></path><rect x="999" y="20" width="135.21875" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="1009" y="30" width="115.21875" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="1066.609375" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">ServiceState</tspan></text><rect x="999" y="308" width="135.21875" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="1009" y="318" width="115.21875" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="1066.609375" y="327" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">ServiceState</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M1066.609375,58L1066.609375,308" stroke-width="2" style=""></path><rect x="0" y="0" width="0" height="0" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="131.234375" y="83" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="83"></tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M63.21875,78C63.21875,78,169.70540153980255,78,194.24724701186642,78" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objx6bjh)" stroke-dasharray="none" style=""></path><rect x="224.25" y="98" width="76.8125" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="262.65625" y="107" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">make_app</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M199.25,93L219.25,93" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="var(--bg-color)" stroke="currentColor" d="M219.25,93L219.25,126" stroke-width="2" stroke-dasharray="none" style=""></path><path fill="var(--bg-color)" stroke="currentColor" d="M219.25,126C219.25,126,210.1691131591797,126,204.2452533841133,126" stroke-width="2" stroke-dasharray="none" marker-end="url(#raphael-marker-endblock55-obje0470)" style=""></path><rect x="0" y="0" width="0" height="0" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="279.265625" y="141" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="141"></tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M199.25,136C199.25,136,327.16503132134676,136,354.2720252634681,136" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objfzphr)" stroke-dasharray="none" style=""></path><rect x="422.484375" y="152" width="28.828125" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="436.8984375" y="161" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">run</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M359.28125,174C359.28125,174,482.9219849666115,174,509.5156098459047,174" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objyuigb)" stroke-dasharray="none" style=""></path><rect x="582.515625" y="190" width="48.03125" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="606.53125" y="199" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">start</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M514.515625,212C514.515625,212,664.1151778269559,212,693.5529804584321,212" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj3dogk)" stroke-dasharray="none" style=""></path><rect x="776.15625" y="228" width="48.015625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="800.1640625" y="237" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">start</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M698.546875,250C698.546875,250,865.550988628529,250,896.7827149565205,250" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objyom4o)" stroke-dasharray="none" style=""></path><rect x="960.1875" y="266" width="48.015625" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="984.1953125" y="275" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">start</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M901.78125,288C901.78125,288,1034.0346500398591,288,1061.6089673333258,288" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obju0gi2)" stroke-dasharray="none" style=""></path></svg></div><p><strong><span>ServiceState start</span></strong></p><div class="md-diagram-panel"><svg height="288" version="1.1" width="767.3125" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="overflow: hidden; position: relative; left: -0.5px; top: -0.046875px; max-width: 100%; height: auto;" viewBox="0 0 767.3125 288"><desc>Created with Raphaël 2.2.0</desc><defs><marker id="raphael-marker-endblock55-objskj1p" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-obj60f1i" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objeus0v" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker><marker id="raphael-marker-endblock55-objz6ssi" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use xlink:href="#raphael-marker-block" transform="rotate(180 2.5 2.5) scale(1,1)" stroke-width="1.0000" fill="currentColor" stroke="none"></use></marker></defs><rect x="10" y="20" width="135.21875" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="20" y="30" width="115.21875" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="77.609375" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">ServiceState</tspan></text><rect x="10" y="230" width="135.21875" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="20" y="240" width="115.21875" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="77.609375" y="249" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">ServiceState</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M77.609375,58L77.609375,230" stroke-width="2" style=""></path><rect x="165.21875" y="20" width="144.84375" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="175.21875" y="30" width="124.84375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="237.640625" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">UpstreamRelay</tspan></text><rect x="165.21875" y="230" width="144.84375" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="175.21875" y="240" width="124.84375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="237.640625" y="249" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">UpstreamRelay</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M237.640625,58L237.640625,230" stroke-width="2" style=""></path><rect x="330.0625" y="20" width="135.21875" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="340.0625" y="30" width="115.21875" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="397.671875" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">EventManager</tspan></text><rect x="330.0625" y="230" width="135.21875" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="340.0625" y="240" width="115.21875" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="397.671875" y="249" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">EventManager</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M397.671875,58L397.671875,230" stroke-width="2" style=""></path><rect x="485.28125" y="20" width="96.8125" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="495.28125" y="30" width="76.8125" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="533.6875" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">KeyCache</tspan></text><rect x="485.28125" y="230" width="96.8125" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="495.28125" y="240" width="76.8125" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="533.6875" y="249" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">KeyCache</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M533.6875,58L533.6875,230" stroke-width="2" style=""></path><rect x="602.09375" y="20" width="135.21875" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="612.09375" y="30" width="115.21875" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="669.703125" y="39" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">ProjectCache</tspan></text><rect x="602.09375" y="230" width="135.21875" height="38" rx="0" ry="0" fill="var(--bg-color)" stroke="currentColor" stroke-width="2" style=""></rect><rect x="612.09375" y="240" width="115.21875" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="669.703125" y="249" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">ProjectCache</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M669.703125,58L669.703125,230" stroke-width="2" style=""></path><rect x="95.203125" y="74" width="124.84375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="157.625" y="83" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">start(config)</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M77.609375,96C77.609375,96,205.52440632134676,96,232.6314002634681,96" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objskj1p)" stroke-dasharray="none" style=""></path><rect x="98.40625" y="112" width="278.46875" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="237.640625" y="121" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">start(config, upstream_realy)</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M77.609375,134C77.609375,134,352.07033789530396,134,392.6766229330369,134" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj60f1i)" stroke-dasharray="none" style=""></path><rect x="171.21875" y="150" width="268.859375" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="305.6484375" y="159" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">start(config,upstream_relay)</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M77.609375,172C77.609375,172,479.0858622016385,172,528.6823227787941,172" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objeus0v)" stroke-dasharray="none" style=""></path><rect x="234.421875" y="188" width="278.46875" height="18" rx="0" ry="0" fill="none" stroke="none" style=""></rect><text x="373.65625" y="197" text-anchor="middle" font-family="Andale Mono, monospace" font-size="16px" stroke="none" fill="currentColor" style="text-anchor: middle; font-family: &quot;Andale Mono&quot;, monospace; font-size: 16px;"><tspan dy="5.515625">start(config, upstream_relay)</tspan></text><path fill="var(--bg-color)" stroke="currentColor" d="M77.609375,210C77.609375,210,607.3971240273677,210,664.6959455164116,210" stroke-width="2" marker-end="url(#raphael-marker-endblock55-objz6ssi)" stroke-dasharray="none" style=""></path></svg></div><p>&nbsp;</p></div>
</body>
</html>